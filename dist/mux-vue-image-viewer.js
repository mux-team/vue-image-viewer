!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MuxVueImageViewer=t():e.MuxVueImageViewer=t()}(window,function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s="./src/index.js")}({"./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewer.vue?vue&type=style&index=0&id=0a11ae33&lang=stylus&scoped=true&":function(e,t,i){(e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"\n.image-viewer[data-v-0a11ae33] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 9999;\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\n  outline: 0;\n}\n.image-viewer-top[data-v-0a11ae33] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 0;\n  opacity: 0;\n  z-index: 2;\n}\n.image-viewer-bottom[data-v-0a11ae33] {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 0;\n  opacity: 0;\n  z-index: 2;\n}\n.image-viewer-toolbar-wrapper[data-v-0a11ae33] {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 40px;\n  color: #fff;\n  z-index: 6;\n  border-top: 1px solid rgba(255,255,255,0.2);\n  overflow: hidden;\n}\n.image-viewer-toolbar-bg[data-v-0a11ae33] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0,0,0,0.6);\n}\n.image-viewer-info-wrapper[data-v-0a11ae33] {\n  position: absolute;\n  bottom: 40px;\n  left: 0;\n  width: 100%;\n  color: #fff;\n  z-index: 6;\n  background-color: rgba(0,0,0,0.6);\n}\n.no-info .image-viewer-toolbar-wrapper[data-v-0a11ae33] {\n  border-top: none;\n  height: 70px;\n}\n.no-info .image-viewer-toolbar-bg[data-v-0a11ae33] {\n  background: -webkit-gradient(linear, center top, center bottom, color-stop(0%, rgba(0,0,0,0)), color-stop(100%, rgba(0,0,0,0.25)));\n}\n.no-toolbar .image-viewer-info-wrapper[data-v-0a11ae33] {\n  bottom: 0;\n}\n.horizonal .image-viewer-info-wrapper[data-v-0a11ae33] {\n  bottom: 41px;\n}\n.horizonal.no-toolbar .image-viewer-info-wrapper[data-v-0a11ae33] {\n  bottom: 0;\n}\n.black-bg[data-v-0a11ae33] {\n  background-color: #000;\n}\n.immersive-toolbar[data-v-0a11ae33] {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 70px;\n  background: -webkit-gradient(linear, center top, center bottom, color-stop(0%, rgba(0,0,0,0)), color-stop(100%, rgba(0,0,0,0.25)));\n  opacity: 0;\n}\n.immersive-toolbar .page-num[data-v-0a11ae33] {\n  position: absolute;\n  left: 17px;\n  bottom: 15px;\n  font-size: 14px;\n  line-height: 24px;\n  color: #fff;\n}\n",""])},"./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerClose.vue?vue&type=style&index=0&id=e5db2aac&lang=stylus&scoped=true&":function(e,t,i){(e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'\n.image-viewer-close[data-v-e5db2aac] {\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\n  position: absolute;\n  left: 0;\n  top: 0;\n  box-sizing: border-box;\n  width: 100%;\n  height: 70px;\n  z-index: 10;\n}\n.image-viewer-close-bg[data-v-e5db2aac] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: -webkit-gradient(linear, center top, center bottom, color-stop(0%, rgba(0,0,0,0.25)), color-stop(100%, rgba(0,0,0,0)));\n}\n.image-viewer-close-content[data-v-e5db2aac] {\n  position: absolute;\n  top: 20px;\n  right: 17px;\n  margin: -5px;\n  padding: 5px;\n}\n.image-viewer-close-icon-user-set img[data-v-e5db2aac] {\n  width: 100%;\n}\n.image-viewer-close-icon[data-v-e5db2aac] {\n  width: 22px;\n  height: 22px;\n  line-height: 22px;\n  text-align: center;\n  text-shadow: 0 0 5px rgba(0,0,0,0.6);\n  color: #fff;\n  font-size: 22px;\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAB7UlEQVRoQ+2ZbVHEMBCG31UADgAHSAAH4OAs4AAHWMABOAAJOOBQACgIszcpE3pNmo93E46hv+76MX2eTZrudgUHvsmB8+NvCTjnNgDuAHwAuBaRl98wQs65cwAPAI4B3IjI/cT1YwScc+/+JD2uEpejJTz8U8C1FZGzmMAWwEkQ9aESC/CK9iYipzEBHapnAEejJSLwnwAuwlmx9xD7C4dK5MJrkBdXoZESJfBRAT0wQqIUPinQW6IGflWgl0QtfJaAtUQLfLaAlUQrfJEAW4IBXyzAkmDBVwm0SjDhqwVqJdjwTQKlEhbwzQK5ElbwFIE1CZ/Vhvm87trLKoPst+gnraRM5E4KpJXUtNHgaSMwkUUkwohS4ekCielEnTZhRGhTaDYK8zmvh03KU6pAZLUJA0aXoAkklkoVMKuxKQKpdd6H36zGbhbIeUlZlqdNAjnwK0ts8zNRLVACbylRJVADbyVRLNACbyFRJMCAZ0tkCzDhmRJZAhbwLIlVAUt4hkRSoAd8q0RUoCd8i0Tq87pZGZiqGUvTjliDYwh8zUjMm3zaYhoKXyoxF3gF8N1AY349KPrU4E+OTKdkl1Kzw6n4oBfgJIlkl1Ib3bf+Rleje8Sz6fTo/29ERAuk3bb6IquJWs9r/gV6RnvpXl+fFMdAaib4NwAAAABJRU5ErkJggg==");\n  background-size: cover;\n}\n',""])},"./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerContent.vue?vue&type=style&index=0&id=646f7572&lang=stylus&scoped=true&":function(e,t,i){(e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"\n.image-viewer-content-wrapper[data-v-646f7572] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n.image-viewer-content-wrapper .image-viewer-content[data-v-646f7572] {\n  position: relative;\n  height: 100%;\n}\n.image-viewer-content-wrapper .image-viewer-content-bg[data-v-646f7572] {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: #000;\n  opacity: 0;\n}\n.image-viewer-item-wrapper[data-v-646f7572] {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n.image-viewer-item-wrapper.image-viewer-item-prev[data-v-646f7572] {\n  right: 100%;\n  border-right: 20px solid rgba(0,0,0,0);\n}\n.image-viewer-item-wrapper.image-viewer-item-next[data-v-646f7572] {\n  left: 100%;\n  border-left: 20px solid rgba(0,0,0,0);\n}\n",""])},"./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerImg.vue?vue&type=style&index=0&id=290c9675&lang=stylus&scoped=true&":function(e,t,i){(e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"\n.image-viewer-img-wrapper[data-v-290c9675] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n.image-viewer-img[data-v-290c9675] {\n  position: absolute;\n  -webkit-transform-origin: left top;\n  transform-origin: left top;\n}\n.image-viewer-img img[data-v-290c9675] {\n  border: 0;\n  width: 100%;\n  height: 100%;\n  -webkit-user-drag: none;\n  -webkit-user-select: none;\n  user-select: none;\n}\n.hidden[data-v-290c9675] {\n  visibility: hidden;\n}\n.image-viewer-img-loading[data-v-290c9675],\n.image-viewer-img-error[data-v-290c9675] {\n  position: relative;\n  background-color: #000;\n  color: #fff;\n}\n.image-viewer-img-loading-content[data-v-290c9675] {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n}\n.image-viewer-img-error-content[data-v-290c9675] {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  text-align: center;\n  -webkit-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n}\n.image-viewer-img-error-content .image-viewer-img-error-icon[data-v-290c9675] {\n  position: relative;\n  left: 50%;\n  width: 78px;\n  height: 60px;\n  -webkit-transform: translate(-50%, 0);\n  transform: translate(-50%, 0);\n}\n.image-viewer-img-error-content p[data-v-290c9675] {\n  margin-top: 16px;\n  line-height: 16px;\n  font-size: 16px;\n  color: #fff;\n}\n",""])},"./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerInfo.vue?vue&type=style&index=0&id=6d185f4e&lang=stylus&scoped=true&":function(e,t,i){(e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"\n.image-viewer-info[data-v-6d185f4e] {\n  position: relative;\n  margin-bottom: 20px;\n  overflow: hidden;\n}\n.image-viewer-info p[data-v-6d185f4e] {\n  -webkit-user-select: none;\n  user-select: none;\n}\n.image-viewer-info .text[data-v-6d185f4e] {\n  font-size: 16px;\n  line-height: 24px;\n  color: #e8e8e8;\n}\n.image-viewer-info-content[data-v-6d185f4e] {\n  box-sizing: border-box;\n  padding: 16px 17px 0;\n  overflow: hidden;\n}\n.image-viewer-info-hidden[data-v-6d185f4e] {\n  position: absolute;\n  left: 100%;\n  top: 0;\n  width: 100%;\n  box-sizing: border-box;\n  padding: 16px 17px 0;\n  overflow: hidden;\n}\n.image-viewer-info-clamp[data-v-6d185f4e] {\n  display: -webkit-box;\n  overflow: hidden;\n  white-space: normal;\n  text-overflow: ellipsis;\n  -webkit-box-orient: vertical;\n}\n.image-viewer-info-index[data-v-6d185f4e] {\n  margin-right: 8px;\n}\n.image-viewer-info-total[data-v-6d185f4e] {\n  margin-left: -8px;\n  margin-right: 8px;\n}\n",""])},"./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerItem.vue?vue&type=style&index=0&id=283ea35f&lang=stylus&scoped=true&":function(e,t,i){(e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"\n.image-viewer-item[data-v-283ea35f] {\n  position: relative;\n  overflow-x: hidden;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  width: 100%;\n  height: 100%;\n}\n.image-viewer-item-second-screen[data-v-283ea35f] {\n  position: relative;\n  width: 100%;\n  background-color: #f1f1f1;\n}\n.grey-bg[data-v-283ea35f] {\n  background-color: #f1f1f1;\n}\n.black-bg[data-v-283ea35f] {\n  background-color: #000;\n}\n",""])},"./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerLoading.vue?vue&type=style&index=0&id=c8a9df7a&lang=stylus&scoped=true&":function(e,t,i){(e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"\n.loading-wrapper[data-v-c8a9df7a] {\n  text-align: center;\n}\n.loading-wrapper .loading-icon-wrapper[data-v-c8a9df7a] {\n  text-align: center;\n}\n.loading-wrapper .loading-icon-wrapper .loading-icon-wrapper2[data-v-c8a9df7a] {\n  display: inline-block;\n  position: relative;\n}\n.loading-wrapper .loading-icon-wrapper .loading-icon-text[data-v-c8a9df7a] {\n  margin: 8px 0 0;\n  text-indent: 0.5em;\n  color: #999;\n}\n.loading-wrapper .loading-icon-wrapper .loading-icon-before[data-v-c8a9df7a] {\n  position: absolute;\n  display: block;\n  width: 5px;\n  height: 5px;\n  margin: auto;\n  border: 2px solid #f3f3f3;\n  box-sizing: content-box;\n  border-top-color: #ddd;\n  border-radius: 50%;\n  -webkit-transform-origin: 50% 50%;\n  transform-origin: 50% 50%;\n  -webkit-transform: rotate(90deg);\n  transform: rotate(90deg);\n  -webkit-animation: loading-rotation-data-v-c8a9df7a 1s ease 0s infinite normal;\n  animation: loading-rotation-data-v-c8a9df7a 1s ease 0s infinite normal;\n}\n.loading-wrapper .loading-icon-wrapper .loading-icon[data-v-c8a9df7a] {\n  position: relative;\n  display: block;\n  width: 54px;\n  height: 54px;\n  margin: auto;\n  font-size: 30px;\n  line-height: 52px;\n  color: #f3f3f3;\n}\n@-webkit-keyframes loading-rotation-data-v-c8a9df7a {\nfrom {\n    -webkit-transform: rotate(1deg);\n    transform: rotate(1deg);\n}\nto {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n}\n}\n@-moz-keyframes loading-rotation-data-v-c8a9df7a {\nfrom {\n    -webkit-transform: rotate(1deg);\n    transform: rotate(1deg);\n}\nto {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n}\n}\n@-webkit-keyframes loading-rotation-data-v-c8a9df7a {\nfrom {\n    -webkit-transform: rotate(1deg);\n    transform: rotate(1deg);\n}\nto {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n}\n}\n@-o-keyframes loading-rotation-data-v-c8a9df7a {\nfrom {\n    -webkit-transform: rotate(1deg);\n    transform: rotate(1deg);\n}\nto {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n}\n}\n@keyframes loading-rotation-data-v-c8a9df7a {\nfrom {\n    -webkit-transform: rotate(1deg);\n    transform: rotate(1deg);\n}\nto {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n}\n}\n",""])},"./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerToast.vue?vue&type=style&index=0&id=c2e2f93c&lang=stylus&scoped=true&":function(e,t,i){(e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"\n.toast-content[data-v-c2e2f93c] {\n  background: rgba(0,0,0,0.8);\n  border-radius: 4px;\n  color: #fff;\n  text-align: center;\n  white-space: nowrap;\n  padding: 17px;\n  line-height: 36px;\n  font-size: 16px;\n  box-sizing: border-box;\n  max-width: 80%;\n}\n",""])},"./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerToastPopup.vue?vue&type=style&index=0&id=7ac10129&lang=stylus&scoped=true&":function(e,t,i){(e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"\n.toast-popup-wrapper[data-v-7ac10129] {\n  position: fixed;\n  top: 50%;\n  left: 0;\n  transform: translate(0, -50%);\n  z-index: 910;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.toast-popup-content[data-v-7ac10129] {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n}\n.toast-popup-mask[data-v-7ac10129] {\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 900;\n  background: rgba(0,0,0,0.65);\n}\n.zoom-in-from-big-enter-active[data-v-7ac10129] {\n  animation-name: zoom-in-from-big-data-v-7ac10129;\n  animation-duration: 0.2s;\n}\n@-moz-keyframes zoom-in-from-big-data-v-7ac10129 {\n0% {\n    opacity: 0;\n    transform: scale3d(1.3, 1.3, 1.3);\n}\n100% {\n    opacity: 1;\n}\n}\n@-webkit-keyframes zoom-in-from-big-data-v-7ac10129 {\n0% {\n    opacity: 0;\n    transform: scale3d(1.3, 1.3, 1.3);\n}\n100% {\n    opacity: 1;\n}\n}\n@-o-keyframes zoom-in-from-big-data-v-7ac10129 {\n0% {\n    opacity: 0;\n    transform: scale3d(1.3, 1.3, 1.3);\n}\n100% {\n    opacity: 1;\n}\n}\n@keyframes zoom-in-from-big-data-v-7ac10129 {\n0% {\n    opacity: 0;\n    transform: scale3d(1.3, 1.3, 1.3);\n}\n100% {\n    opacity: 1;\n}\n}\n",""])},"./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerZoom.vue?vue&type=style&index=0&id=3b907e08&lang=stylus&scoped=true&":function(e,t,i){(e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"\n.image-viewer-zoom[data-v-3b907e08] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  user-select: none;\n}\n",""])},"./node_modules/css-loader/lib/css-base.js":function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var i=function(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var s=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(n),o=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[i].concat(o).concat([s]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i}).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},s=0;s<this.length;s++){var o=this[s][0];"number"==typeof o&&(n[o]=!0)}for(s=0;s<e.length;s++){var r=e[s];"number"==typeof r[0]&&n[r[0]]||(i&&!r[2]?r[2]=i:i&&(r[2]="("+r[2]+") and ("+i+")"),t.push(r))}},t}},"./node_modules/fastclick/lib/fastclick.js":function(e,t,i){var n;!function(){"use strict";
/**
	 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
	 *
	 * @codingstandard ftlabs-jsv2
	 * @copyright The Financial Times Limited [All Rights Reserved]
	 * @license MIT License (see LICENSE.txt)
	 */function s(e,t){var i;if(t=t||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=t.touchBoundary||10,this.layer=e,this.tapDelay=t.tapDelay||200,this.tapTimeout=t.tapTimeout||700,!s.notNeeded(e)){for(var n=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],o=0,a=n.length;o<a;o++)this[n[o]]=l(this[n[o]],this);r&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,i,n){var s=Node.prototype.removeEventListener;"click"===t?s.call(e,t,i.hijacked||i,n):s.call(e,t,i,n)},e.addEventListener=function(t,i,n){var s=Node.prototype.addEventListener;"click"===t?s.call(e,t,i.hijacked||(i.hijacked=function(e){e.propagationStopped||i(e)}),n):s.call(e,t,i,n)}),"function"==typeof e.onclick&&(i=e.onclick,e.addEventListener("click",function(e){i(e)},!1),e.onclick=null)}function l(e,t){return function(){return e.apply(t,arguments)}}}var o=navigator.userAgent.indexOf("Windows Phone")>=0,r=navigator.userAgent.indexOf("Android")>0&&!o,a=/iP(ad|hone|od)/.test(navigator.userAgent)&&!o,l=a&&/OS 4_\d(_\d)?/.test(navigator.userAgent),d=a&&/OS [6-7]_\d/.test(navigator.userAgent),h=navigator.userAgent.indexOf("BB10")>0;s.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(a&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},s.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!r;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},s.prototype.sendClick=function(e,t){var i,n;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),n=t.changedTouches[0],(i=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(e),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,e.dispatchEvent(i)},s.prototype.determineEventType=function(e){return r&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},s.prototype.focus=function(e){var t;a&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},s.prototype.updateScrollParent=function(e){var t,i;if(!(t=e.fastClickScrollParent)||!t.contains(e)){i=e;do{if(i.scrollHeight>i.offsetHeight){t=i,e.fastClickScrollParent=i;break}i=i.parentElement}while(i)}t&&(t.fastClickLastScrollTop=t.scrollTop)},s.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},s.prototype.onTouchStart=function(e){var t,i,n;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),i=e.targetTouches[0],a){if((n=window.getSelection()).rangeCount&&!n.isCollapsed)return!0;if(!l){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=i.pageX,this.touchStartY=i.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},s.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],i=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>i||Math.abs(t.pageY-this.touchStartY)>i},s.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},s.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},s.prototype.onTouchEnd=function(e){var t,i,n,s,o,h=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,d&&(o=e.changedTouches[0],(h=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)||h).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(n=h.tagName.toLowerCase())){if(t=this.findControl(h)){if(this.focus(h),r)return!1;h=t}}else if(this.needsFocus(h))return e.timeStamp-i>100||a&&window.top!==window&&"input"===n?(this.targetElement=null,!1):(this.focus(h),this.sendClick(h,e),a&&"select"===n||(this.targetElement=null,e.preventDefault()),!1);return!(!a||l||!(s=h.fastClickScrollParent)||s.fastClickLastScrollTop===s.scrollTop)||(this.needsClick(h)||(e.preventDefault(),this.sendClick(h,e)),!1)},s.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},s.prototype.onMouse=function(e){return!this.targetElement||(!!e.forwardedTouchEvent||(!e.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1))))},s.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||((t=this.onMouse(e))||(this.targetElement=null),t)},s.prototype.destroy=function(){var e=this.layer;r&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},s.notNeeded=function(e){var t,i,n;if(void 0===window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!r)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(h&&(n=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]>=10&&n[2]>=3&&(t=document.querySelector("meta[name=viewport]"))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(t=document.querySelector("meta[name=viewport]"))&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||("none"===e.style.touchAction||"manipulation"===e.style.touchAction))},s.attach=function(e,t){return new s(e,t)},void 0===(n=function(){return s}.call(t,i,t,e))||(e.exports=n)}()},"./node_modules/style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewer.vue?vue&type=style&index=0&id=0a11ae33&lang=stylus&scoped=true&":function(e,t,i){var n=i("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewer.vue?vue&type=style&index=0&id=0a11ae33&lang=stylus&scoped=true&");"string"==typeof n&&(n=[[e.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i("./node_modules/style-loader/lib/addStyles.js")(n,s);n.locals&&(e.exports=n.locals)},"./node_modules/style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerClose.vue?vue&type=style&index=0&id=e5db2aac&lang=stylus&scoped=true&":function(e,t,i){var n=i("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerClose.vue?vue&type=style&index=0&id=e5db2aac&lang=stylus&scoped=true&");"string"==typeof n&&(n=[[e.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i("./node_modules/style-loader/lib/addStyles.js")(n,s);n.locals&&(e.exports=n.locals)},"./node_modules/style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerContent.vue?vue&type=style&index=0&id=646f7572&lang=stylus&scoped=true&":function(e,t,i){var n=i("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerContent.vue?vue&type=style&index=0&id=646f7572&lang=stylus&scoped=true&");"string"==typeof n&&(n=[[e.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i("./node_modules/style-loader/lib/addStyles.js")(n,s);n.locals&&(e.exports=n.locals)},"./node_modules/style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerImg.vue?vue&type=style&index=0&id=290c9675&lang=stylus&scoped=true&":function(e,t,i){var n=i("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerImg.vue?vue&type=style&index=0&id=290c9675&lang=stylus&scoped=true&");"string"==typeof n&&(n=[[e.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i("./node_modules/style-loader/lib/addStyles.js")(n,s);n.locals&&(e.exports=n.locals)},"./node_modules/style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerInfo.vue?vue&type=style&index=0&id=6d185f4e&lang=stylus&scoped=true&":function(e,t,i){var n=i("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerInfo.vue?vue&type=style&index=0&id=6d185f4e&lang=stylus&scoped=true&");"string"==typeof n&&(n=[[e.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i("./node_modules/style-loader/lib/addStyles.js")(n,s);n.locals&&(e.exports=n.locals)},"./node_modules/style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerItem.vue?vue&type=style&index=0&id=283ea35f&lang=stylus&scoped=true&":function(e,t,i){var n=i("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerItem.vue?vue&type=style&index=0&id=283ea35f&lang=stylus&scoped=true&");"string"==typeof n&&(n=[[e.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i("./node_modules/style-loader/lib/addStyles.js")(n,s);n.locals&&(e.exports=n.locals)},"./node_modules/style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerLoading.vue?vue&type=style&index=0&id=c8a9df7a&lang=stylus&scoped=true&":function(e,t,i){var n=i("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerLoading.vue?vue&type=style&index=0&id=c8a9df7a&lang=stylus&scoped=true&");"string"==typeof n&&(n=[[e.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i("./node_modules/style-loader/lib/addStyles.js")(n,s);n.locals&&(e.exports=n.locals)},"./node_modules/style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerToast.vue?vue&type=style&index=0&id=c2e2f93c&lang=stylus&scoped=true&":function(e,t,i){var n=i("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerToast.vue?vue&type=style&index=0&id=c2e2f93c&lang=stylus&scoped=true&");"string"==typeof n&&(n=[[e.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i("./node_modules/style-loader/lib/addStyles.js")(n,s);n.locals&&(e.exports=n.locals)},"./node_modules/style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerToastPopup.vue?vue&type=style&index=0&id=7ac10129&lang=stylus&scoped=true&":function(e,t,i){var n=i("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerToastPopup.vue?vue&type=style&index=0&id=7ac10129&lang=stylus&scoped=true&");"string"==typeof n&&(n=[[e.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i("./node_modules/style-loader/lib/addStyles.js")(n,s);n.locals&&(e.exports=n.locals)},"./node_modules/style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerZoom.vue?vue&type=style&index=0&id=3b907e08&lang=stylus&scoped=true&":function(e,t,i){var n=i("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerZoom.vue?vue&type=style&index=0&id=3b907e08&lang=stylus&scoped=true&");"string"==typeof n&&(n=[[e.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i("./node_modules/style-loader/lib/addStyles.js")(n,s);n.locals&&(e.exports=n.locals)},"./node_modules/style-loader/lib/addStyles.js":function(e,t,i){var n={},s=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),o=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var i=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}}(),r=null,a=0,l=[],d=i("./node_modules/style-loader/lib/urls.js");function h(e,t){for(var i=0;i<e.length;i++){var s=e[i],o=n[s.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](s.parts[r]);for(;r<s.parts.length;r++)o.parts.push(g(s.parts[r],t))}else{var a=[];for(r=0;r<s.parts.length;r++)a.push(g(s.parts[r],t));n[s.id]={id:s.id,refs:1,parts:a}}}}function u(e,t){for(var i=[],n={},s=0;s<e.length;s++){var o=e[s],r=t.base?o[0]+t.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};n[r]?n[r].parts.push(a):i.push(n[r]={id:r,parts:[a]})}return i}function c(e,t){var i=o(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=l[l.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),l.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var s=o(e.insertInto+" "+e.insertAt.before);i.insertBefore(t,s)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function p(e){var t=document.createElement("style");return e.attrs.type="text/css",f(t,e.attrs),c(e,t),t}function f(e,t){Object.keys(t).forEach(function(i){e.setAttribute(i,t[i])})}function g(e,t){var i,n,s,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var l=a++;i=r||(r=p(t)),n=w.bind(null,i,l,!1),s=w.bind(null,i,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",f(t,e.attrs),c(e,t),t}(t),n=function(e,t,i){var n=i.css,s=i.sourceMap,o=void 0===t.convertToAbsoluteUrls&&s;(t.convertToAbsoluteUrls||o)&&(n=d(n));s&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");var r=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(r),a&&URL.revokeObjectURL(a)}.bind(null,i,t),s=function(){m(i),i.href&&URL.revokeObjectURL(i.href)}):(i=p(t),n=function(e,t){var i=t.css,n=t.media;n&&e.setAttribute("media",n);if(e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}.bind(null,i),s=function(){m(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else s()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=s()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=u(e,t);return h(i,t),function(e){for(var s=[],o=0;o<i.length;o++){var r=i[o];(a=n[r.id]).refs--,s.push(a)}e&&h(u(e,t),t);for(o=0;o<s.length;o++){var a;if(0===(a=s[o]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete n[a.id]}}}};var v=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}();function w(e,t,i,n){var s=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=v(t,s);else{var o=document.createTextNode(s),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}},"./node_modules/style-loader/lib/urls.js":function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,n=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var s,o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(s=0===o.indexOf("//")?o:0===o.indexOf("/")?i+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(s)+")")})}},"./node_modules/web-animations-js/web-animations.min.js":function(e,t){!function(e,t){var i={},n={};!function(e,t){function i(){this._delay=0,this._endDelay=0,this._fill="none",this._iterationStart=0,this._iterations=1,this._duration=0,this._playbackRate=1,this._direction="normal",this._easing="linear",this._easingFunction=c}function n(){return e.isDeprecated("Invalid timing inputs","2016-03-02","TypeError exceptions will be thrown instead.",!0)}function s(t,n,s){var o=new i;return n&&(o.fill="both",o.duration="auto"),"number"!=typeof t||isNaN(t)?void 0!==t&&Object.getOwnPropertyNames(t).forEach(function(i){if("auto"!=t[i]){if(("number"==typeof o[i]||"duration"==i)&&("number"!=typeof t[i]||isNaN(t[i])))return;if("fill"==i&&-1==h.indexOf(t[i]))return;if("direction"==i&&-1==u.indexOf(t[i]))return;if("playbackRate"==i&&1!==t[i]&&e.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead."))return;o[i]=t[i]}}):o.duration=t,o}function o(e,t,i,n){return e<0||e>1||i<0||i>1?c:function(s){function o(e,t,i){return 3*e*(1-i)*(1-i)*i+3*t*(1-i)*i*i+i*i*i}if(s<=0){var r=0;return e>0?r=t/e:!t&&i>0&&(r=n/i),r*s}if(s>=1){var a=0;return i<1?a=(n-1)/(i-1):1==i&&e<1&&(a=(t-1)/(e-1)),1+a*(s-1)}for(var l=0,d=1;l<d;){var h=(l+d)/2,u=o(e,i,h);if(Math.abs(s-u)<1e-5)return o(t,n,h);u<s?l=h:d=h}return o(t,n,h)}}function r(e,t){return function(i){if(i>=1)return 1;var n=1/e;return(i+=t*n)-i%n}}function a(e){v||(v=document.createElement("div").style),v.animationTimingFunction="",v.animationTimingFunction=e;var t=v.animationTimingFunction;if(""==t&&n())throw new TypeError(e+" is not a valid value for easing");return t}function l(e){if("linear"==e)return c;var t=y.exec(e);if(t)return o.apply(this,t.slice(1).map(Number));var i=b.exec(e);return i?r(Number(i[1]),{start:m,middle:p,end:f}[i[2]]):g[e]||c}function d(e,t,i){if(null==t)return x;var n=i.delay+e+i.endDelay;return t<Math.min(i.delay,n)?_:t>=Math.min(i.delay+e,n)?S:T}var h="backwards|forwards|both|none".split("|"),u="reverse|alternate|alternate-reverse".split("|"),c=function(e){return e};i.prototype={_setMember:function(t,i){this["_"+t]=i,this._effect&&(this._effect._timingInput[t]=i,this._effect._timing=e.normalizeTimingInput(this._effect._timingInput),this._effect.activeDuration=e.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},get playbackRate(){return this._playbackRate},set delay(e){this._setMember("delay",e)},get delay(){return this._delay},set endDelay(e){this._setMember("endDelay",e)},get endDelay(){return this._endDelay},set fill(e){this._setMember("fill",e)},get fill(){return this._fill},set iterationStart(e){if((isNaN(e)||e<0)&&n())throw new TypeError("iterationStart must be a non-negative number, received: "+timing.iterationStart);this._setMember("iterationStart",e)},get iterationStart(){return this._iterationStart},set duration(e){if("auto"!=e&&(isNaN(e)||e<0)&&n())throw new TypeError("duration must be non-negative or auto, received: "+e);this._setMember("duration",e)},get duration(){return this._duration},set direction(e){this._setMember("direction",e)},get direction(){return this._direction},set easing(e){this._easingFunction=l(a(e)),this._setMember("easing",e)},get easing(){return this._easing},set iterations(e){if((isNaN(e)||e<0)&&n())throw new TypeError("iterations must be non-negative, received: "+e);this._setMember("iterations",e)},get iterations(){return this._iterations}};var m=1,p=.5,f=0,g={ease:o(.25,.1,.25,1),"ease-in":o(.42,0,1,1),"ease-out":o(0,0,.58,1),"ease-in-out":o(.42,0,.58,1),"step-start":r(1,m),"step-middle":r(1,p),"step-end":r(1,f)},v=null,w="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",y=new RegExp("cubic-bezier\\("+w+","+w+","+w+","+w+"\\)"),b=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,x=0,_=1,S=2,T=3;e.cloneTimingInput=function(e){if("number"==typeof e)return e;var t={};for(var i in e)t[i]=e[i];return t},e.makeTiming=s,e.numericTimingToObject=function(e){return"number"==typeof e&&(e=isNaN(e)?{duration:0}:{duration:e}),e},e.normalizeTimingInput=function(t,i){return s(t=e.numericTimingToObject(t),i)},e.calculateActiveDuration=function(e){return Math.abs(function(e){return 0===e.duration||0===e.iterations?0:e.duration*e.iterations}(e)/e.playbackRate)},e.calculateIterationProgress=function(e,t,i){var n=d(e,t,i),s=function(e,t,i,n,s){switch(n){case _:return"backwards"==t||"both"==t?0:null;case T:return i-s;case S:return"forwards"==t||"both"==t?e:null;case x:return null}}(e,i.fill,t,n,i.delay);if(null===s)return null;var o=function(e,t,i,n,s){var o=s;return 0===e?t!==_&&(o+=i):o+=n/e,o}(i.duration,n,i.iterations,s,i.iterationStart),r=function(e,t,i,n,s,o){var r=e===1/0?t%1:e%1;return 0!==r||i!==S||0===n||0===s&&0!==o||(r=1),r}(o,i.iterationStart,n,i.iterations,s,i.duration),a=function(e,t,i,n){return e===S&&t===1/0?1/0:1===i?Math.floor(n)-1:Math.floor(n)}(n,i.iterations,r,o),l=function(e,t,i){var n=e;if("normal"!==e&&"reverse"!==e){var s=t;"alternate-reverse"===e&&(s+=1),n="normal",s!==1/0&&s%2!=0&&(n="reverse")}return"normal"===n?i:1-i}(i.direction,a,r);return i._easingFunction(l)},e.calculatePhase=d,e.normalizeEasing=a,e.parseEasingFunction=l}(i),function(e,t){function i(e,t){return e in l&&l[e][t]||t}function n(e,t,n){if(!function(e){return"display"===e||0===e.lastIndexOf("animation",0)||0===e.lastIndexOf("transition",0)}(e)){var s=o[e];if(s)for(var a in r.style[e]=t,s){var l=s[a],d=r.style[l];n[l]=i(l,d)}else n[e]=i(e,t)}}function s(e){var t=[];for(var i in e)if(!(i in["easing","offset","composite"])){var n=e[i];Array.isArray(n)||(n=[n]);for(var s,o=n.length,r=0;r<o;r++)(s={}).offset="offset"in e?e.offset:1==o?1:r/(o-1),"easing"in e&&(s.easing=e.easing),"composite"in e&&(s.composite=e.composite),s[i]=n[r],t.push(s)}return t.sort(function(e,t){return e.offset-t.offset}),t}var o={background:["backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","backgroundAttachment","backgroundOrigin","backgroundClip","backgroundColor"],border:["borderTopColor","borderTopStyle","borderTopWidth","borderRightColor","borderRightStyle","borderRightWidth","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeftColor","borderLeftStyle","borderLeftWidth"],borderBottom:["borderBottomWidth","borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:["fontFamily","fontSize","fontStyle","fontVariant","fontWeight","lineHeight"],margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},r=document.createElementNS("http://www.w3.org/1999/xhtml","div"),a={thin:"1px",medium:"3px",thick:"5px"},l={borderBottomWidth:a,borderLeftWidth:a,borderRightWidth:a,borderTopWidth:a,fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:a,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}};e.convertToArrayForm=s,e.normalizeKeyframes=function(t){if(null==t)return[];window.Symbol&&Symbol.iterator&&Array.prototype.from&&t[Symbol.iterator]&&(t=Array.from(t)),Array.isArray(t)||(t=s(t));for(var i=t.map(function(t){var i={};for(var s in t){var o=t[s];if("offset"==s){if(null!=o){if(o=Number(o),!isFinite(o))throw new TypeError("Keyframe offsets must be numbers.");if(o<0||o>1)throw new TypeError("Keyframe offsets must be between 0 and 1.")}}else if("composite"==s){if("add"==o||"accumulate"==o)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"add compositing is not supported"};if("replace"!=o)throw new TypeError("Invalid composite mode "+o+".")}else o="easing"==s?e.normalizeEasing(o):""+o;n(s,o,i)}return void 0==i.offset&&(i.offset=null),void 0==i.easing&&(i.easing="linear"),i}),o=!0,r=-1/0,a=0;a<i.length;a++){var l=i[a].offset;if(null!=l){if(l<r)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");r=l}else o=!1}return i=i.filter(function(e){return e.offset>=0&&e.offset<=1}),o||function(){var e=i.length;null==i[e-1].offset&&(i[e-1].offset=1),e>1&&null==i[0].offset&&(i[0].offset=0);for(var t=0,n=i[0].offset,s=1;s<e;s++){var o=i[s].offset;if(null!=o){for(var r=1;r<s-t;r++)i[t+r].offset=n+(o-n)*r/(s-t);t=s,n=o}}}(),i}}(i),function(e){var t={};e.isDeprecated=function(e,i,n,s){var o=s?"are":"is",r=new Date,a=new Date(i);return a.setMonth(a.getMonth()+3),!(r<a&&(e in t||console.warn("Web Animations: "+e+" "+o+" deprecated and will stop working on "+a.toDateString()+". "+n),t[e]=!0,1))},e.deprecated=function(t,i,n,s){var o=s?"are":"is";if(e.isDeprecated(t,i,n,s))throw new Error(t+" "+o+" no longer supported. "+n)}}(i),function(){if(document.documentElement.animate){var e=document.documentElement.animate([],0),t=!0;if(e&&(t=!1,"play|currentTime|pause|reverse|playbackRate|cancel|finish|startTime|playState".split("|").forEach(function(i){void 0===e[i]&&(t=!0)})),!t)return}!function(e,t,i){t.convertEffectInput=function(i){var n=function(e){for(var t={},i=0;i<e.length;i++)for(var n in e[i])if("offset"!=n&&"easing"!=n&&"composite"!=n){var s={offset:e[i].offset,easing:e[i].easing,value:e[i][n]};t[n]=t[n]||[],t[n].push(s)}for(var o in t){var r=t[o];if(0!=r[0].offset||1!=r[r.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"}}return t}(e.normalizeKeyframes(i)),s=function(i){var n=[];for(var s in i)for(var o=i[s],r=0;r<o.length-1;r++){var a=r,l=r+1,d=o[a].offset,h=o[l].offset,u=d,c=h;0==r&&(u=-1/0,0==h&&(l=a)),r==o.length-2&&(c=1/0,1==d&&(a=l)),n.push({applyFrom:u,applyTo:c,startOffset:o[a].offset,endOffset:o[l].offset,easingFunction:e.parseEasingFunction(o[a].easing),property:s,interpolation:t.propertyInterpolation(s,o[a].value,o[l].value)})}return n.sort(function(e,t){return e.startOffset-t.startOffset}),n}(n);return function(e,i){if(null!=i)s.filter(function(e){return i>=e.applyFrom&&i<e.applyTo}).forEach(function(n){var s=i-n.startOffset,o=n.endOffset-n.startOffset,r=0==o?0:n.easingFunction(s/o);t.apply(e,n.property,n.interpolation(r))});else for(var o in n)"offset"!=o&&"easing"!=o&&"composite"!=o&&t.clear(e,o)}}}(i,n),function(e,t,i){function n(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function s(e,t,i){o[i]=o[i]||[],o[i].push([e,t])}var o={};t.addPropertiesHandler=function(e,t,i){for(var o=0;o<i.length;o++)s(e,t,n(i[o]))};var r={backgroundColor:"transparent",backgroundPosition:"0% 0%",borderBottomColor:"currentColor",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderBottomWidth:"3px",borderLeftColor:"currentColor",borderLeftWidth:"3px",borderRightColor:"currentColor",borderRightWidth:"3px",borderSpacing:"2px",borderTopColor:"currentColor",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderTopWidth:"3px",bottom:"auto",clip:"rect(0px, 0px, 0px, 0px)",color:"black",fontSize:"100%",fontWeight:"400",height:"auto",left:"auto",letterSpacing:"normal",lineHeight:"120%",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",opacity:"1.0",outlineColor:"invert",outlineOffset:"0px",outlineWidth:"3px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",right:"auto",strokeDasharray:"none",strokeDashoffset:"0px",textIndent:"0px",textShadow:"0px 0px 0px transparent",top:"auto",transform:"",verticalAlign:"0px",visibility:"visible",width:"auto",wordSpacing:"normal",zIndex:"auto"};t.propertyInterpolation=function(i,s,a){var l=i;/-/.test(i)&&!e.isDeprecated("Hyphenated property names","2016-03-22","Use camelCase instead.",!0)&&(l=n(i)),"initial"!=s&&"initial"!=a||("initial"==s&&(s=r[l]),"initial"==a&&(a=r[l]));for(var d=s==a?[]:o[l],h=0;d&&h<d.length;h++){var u=d[h][0](s),c=d[h][0](a);if(void 0!==u&&void 0!==c){var m=d[h][1](u,c);if(m){var p=t.Interpolation.apply(null,m);return function(e){return 0==e?s:1==e?a:p(e)}}}}return t.Interpolation(!1,!0,function(e){return e?a:s})}}(i,n),function(e,t,i){t.KeyframeEffect=function(i,n,s,o){var r,a=function(t){var i=e.calculateActiveDuration(t),n=function(n){return e.calculateIterationProgress(i,n,t)};return n._totalDuration=t.delay+i+t.endDelay,n}(e.normalizeTimingInput(s)),l=t.convertEffectInput(n),d=function(){l(i,r)};return d._update=function(e){return null!==(r=a(e))},d._clear=function(){l(i,null)},d._hasSameTarget=function(e){return i===e},d._target=i,d._totalDuration=a._totalDuration,d._id=o,d}}(i,n),function(e,t){function i(e,t,i){i.enumerable=!0,i.configurable=!0,Object.defineProperty(e,t,i)}function n(e){this._element=e,this._surrogateStyle=document.createElementNS("http://www.w3.org/1999/xhtml","div").style,this._style=e.style,this._length=0,this._isAnimatedProperty={},this._updateSvgTransformAttr=function(e,t){return!(!t.namespaceURI||-1==t.namespaceURI.indexOf("/svg"))&&(o in e||(e[o]=/Trident|MSIE|IEMobile|Edge|Android 4/i.test(e.navigator.userAgent)),e[o])}(window,e),this._savedTransformAttr=null;for(var t=0;t<this._style.length;t++){var i=this._style[t];this._surrogateStyle[i]=this._style[i]}this._updateIndices()}function s(e){if(!e._webAnimationsPatchedStyle){var t=new n(e);try{i(e,"style",{get:function(){return t}})}catch(t){e.style._set=function(t,i){e.style[t]=i},e.style._clear=function(t){e.style[t]=""}}e._webAnimationsPatchedStyle=e.style}}var o="_webAnimationsUpdateSvgTransformAttr",r={cssText:1,length:1,parentRule:1},a={getPropertyCSSValue:1,getPropertyPriority:1,getPropertyValue:1,item:1,removeProperty:1,setProperty:1},l={removeProperty:1,setProperty:1};for(var d in n.prototype={get cssText(){return this._surrogateStyle.cssText},set cssText(e){for(var t={},i=0;i<this._surrogateStyle.length;i++)t[this._surrogateStyle[i]]=!0;this._surrogateStyle.cssText=e,this._updateIndices();for(i=0;i<this._surrogateStyle.length;i++)t[this._surrogateStyle[i]]=!0;for(var n in t)this._isAnimatedProperty[n]||this._style.setProperty(n,this._surrogateStyle.getPropertyValue(n))},get length(){return this._surrogateStyle.length},get parentRule(){return this._style.parentRule},_updateIndices:function(){for(;this._length<this._surrogateStyle.length;)Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,get:function(e){return function(){return this._surrogateStyle[e]}}(this._length)}),this._length++;for(;this._length>this._surrogateStyle.length;)this._length--,Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,value:void 0})},_set:function(t,i){this._style[t]=i,this._isAnimatedProperty[t]=!0,this._updateSvgTransformAttr&&"transform"==e.unprefixedPropertyName(t)&&(null==this._savedTransformAttr&&(this._savedTransformAttr=this._element.getAttribute("transform")),this._element.setAttribute("transform",e.transformToSvgMatrix(i)))},_clear:function(t){this._style[t]=this._surrogateStyle[t],this._updateSvgTransformAttr&&"transform"==e.unprefixedPropertyName(t)&&(this._savedTransformAttr?this._element.setAttribute("transform",this._savedTransformAttr):this._element.removeAttribute("transform"),this._savedTransformAttr=null),delete this._isAnimatedProperty[t]}},a)n.prototype[d]=function(e,t){return function(){var i=this._surrogateStyle[e].apply(this._surrogateStyle,arguments);return t&&(this._isAnimatedProperty[arguments[0]]||this._style[e].apply(this._style,arguments),this._updateIndices()),i}}(d,d in l);for(var h in document.documentElement.style)h in r||h in a||function(e){i(n.prototype,e,{get:function(){return this._surrogateStyle[e]},set:function(t){this._surrogateStyle[e]=t,this._updateIndices(),this._isAnimatedProperty[e]||(this._style[e]=t)}})}(h);e.apply=function(t,i,n){s(t),t.style._set(e.propertyName(i),n)},e.clear=function(t,i){t._webAnimationsPatchedStyle&&t.style._clear(e.propertyName(i))}}(n),function(e){window.Element.prototype.animate=function(t,i){var n="";return i&&i.id&&(n=i.id),e.timeline._play(e.KeyframeEffect(this,t,i,n))}}(n),function(e,t){n.Interpolation=function(e,t,i){return function(n){return i(function e(t,i,n){if("number"==typeof t&&"number"==typeof i)return t*(1-n)+i*n;if("boolean"==typeof t&&"boolean"==typeof i)return n<.5?t:i;if(t.length==i.length){for(var s=[],o=0;o<t.length;o++)s.push(e(t[o],i[o],n));return s}throw"Mismatched interpolation arguments "+t+":"+i}(e,t,n))}}}(),function(e,t){var i=function(){function e(e,t){for(var i=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],n=0;n<4;n++)for(var s=0;s<4;s++)for(var o=0;o<4;o++)i[n][s]+=t[n][o]*e[o][s];return i}return function(t,i,n,s,o){for(var r=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],a=0;a<4;a++)r[a][3]=o[a];for(a=0;a<3;a++)for(var l=0;l<3;l++)r[3][a]+=t[l]*r[l][a];var d=s[0],h=s[1],u=s[2],c=s[3],m=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];m[0][0]=1-2*(h*h+u*u),m[0][1]=2*(d*h-u*c),m[0][2]=2*(d*u+h*c),m[1][0]=2*(d*h+u*c),m[1][1]=1-2*(d*d+u*u),m[1][2]=2*(h*u-d*c),m[2][0]=2*(d*u-h*c),m[2][1]=2*(h*u+d*c),m[2][2]=1-2*(d*d+h*h),r=e(r,m);var p=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];for(n[2]&&(p[2][1]=n[2],r=e(r,p)),n[1]&&(p[2][1]=0,p[2][0]=n[0],r=e(r,p)),n[0]&&(p[2][0]=0,p[1][0]=n[0],r=e(r,p)),a=0;a<3;a++)for(l=0;l<3;l++)r[a][l]*=i[a];return function(e){return 0==e[0][2]&&0==e[0][3]&&0==e[1][2]&&0==e[1][3]&&0==e[2][0]&&0==e[2][1]&&1==e[2][2]&&0==e[2][3]&&0==e[3][2]&&1==e[3][3]}(r)?[r[0][0],r[0][1],r[1][0],r[1][1],r[3][0],r[3][1]]:r[0].concat(r[1],r[2],r[3])}}();e.composeMatrix=i,e.quat=function(t,i,n){var s=e.dot(t,i),o=[];if(1===(s=function(e,t,i){return Math.max(Math.min(e,i),t)}(s,-1,1)))o=t;else for(var r=Math.acos(s),a=1*Math.sin(n*r)/Math.sqrt(1-s*s),l=0;l<4;l++)o.push(t[l]*(Math.cos(n*r)-s*a)+i[l]*a);return o}}(n),function(e,t,i){e.sequenceNumber=0;t.Animation=function(t){this.id="",t&&t._id&&(this.id=t._id),this._sequenceNumber=e.sequenceNumber++,this._currentTime=0,this._startTime=null,this._paused=!1,this._playbackRate=1,this._inTimeline=!0,this._finishedFlag=!0,this.onfinish=null,this._finishHandlers=[],this._effect=t,this._inEffect=this._effect._update(0),this._idle=!0,this._currentTimePending=!1},t.Animation.prototype={_ensureAlive:function(){this.playbackRate<0&&0===this.currentTime?this._inEffect=this._effect._update(-1):this._inEffect=this._effect._update(this.currentTime),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,t.timeline._animations.push(this))},_tickCurrentTime:function(e,t){e!=this._currentTime&&(this._currentTime=e,this._isFinished&&!t&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(e){e=+e,isNaN(e)||(t.restart(),this._paused||null==this._startTime||(this._startTime=this._timeline.currentTime-e/this._playbackRate),this._currentTimePending=!1,this._currentTime!=e&&(this._idle&&(this._idle=!1,this._paused=!0),this._tickCurrentTime(e,!0),t.applyDirtiedAnimation(this)))},get startTime(){return this._startTime},set startTime(e){e=+e,isNaN(e)||this._paused||this._idle||(this._startTime=e,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),t.applyDirtiedAnimation(this))},get playbackRate(){return this._playbackRate},set playbackRate(e){if(e!=this._playbackRate){var i=this.currentTime;this._playbackRate=e,this._startTime=null,"paused"!=this.playState&&"idle"!=this.playState&&(this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),t.applyDirtiedAnimation(this)),null!=i&&(this.currentTime=i)}},get _isFinished(){return!this._idle&&(this._playbackRate>0&&this._currentTime>=this._totalDuration||this._playbackRate<0&&this._currentTime<=0)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this._paused&&0!=this.playbackRate||this._currentTimePending?"pending":this._paused?"paused":this._isFinished?"finished":"running"},_rewind:function(){if(this._playbackRate>=0)this._currentTime=0;else{if(!(this._totalDuration<1/0))throw new DOMException("Unable to rewind negative playback rate animation with infinite duration","InvalidStateError");this._currentTime=this._totalDuration}},play:function(){this._paused=!1,(this._isFinished||this._idle)&&(this._rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),t.applyDirtiedAnimation(this)},pause:function(){this._isFinished||this._paused||this._idle?this._idle&&(this._rewind(),this._idle=!1):this._currentTimePending=!0,this._startTime=null,this._paused=!0},finish:function(){this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1,t.applyDirtiedAnimation(this))},cancel:function(){this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._isFinished=!0,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this._effect._update(null),t.applyDirtiedAnimation(this))},reverse:function(){this.playbackRate*=-1,this.play()},addEventListener:function(e,t){"function"==typeof t&&"finish"==e&&this._finishHandlers.push(t)},removeEventListener:function(e,t){if("finish"==e){var i=this._finishHandlers.indexOf(t);i>=0&&this._finishHandlers.splice(i,1)}},_fireEvents:function(e){if(this._isFinished){if(!this._finishedFlag){var t=new function(e,t,i){this.target=e,this.currentTime=t,this.timelineTime=i,this.type="finish",this.bubbles=!1,this.cancelable=!1,this.currentTarget=e,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()}(this,this._currentTime,e),i=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout(function(){i.forEach(function(e){e.call(t.target,t)})},0),this._finishedFlag=!0}}else this._finishedFlag=!1},_tick:function(e,t){this._idle||this._paused||(null==this._startTime?t&&(this.startTime=e-this._currentTime/this.playbackRate):this._isFinished||this._tickCurrentTime((e-this._startTime)*this.playbackRate)),t&&(this._currentTimePending=!1,this._fireEvents(e))},get _needsTick(){return this.playState in{pending:1,running:1}||!this._finishedFlag},_targetAnimations:function(){var e=this._effect._target;return e._activeAnimations||(e._activeAnimations=[]),e._activeAnimations},_markTarget:function(){var e=this._targetAnimations();-1===e.indexOf(this)&&e.push(this)},_unmarkTarget:function(){var e=this._targetAnimations(),t=e.indexOf(this);-1!==t&&e.splice(t,1)}}}(i,n),function(e,t,i){function n(e){var t=d;d=[],e<f.currentTime&&(e=f.currentTime),f._animations.sort(s),f._animations=a(e,!0,f._animations)[0],t.forEach(function(t){t[1](e)}),r(),void 0}function s(e,t){return e._sequenceNumber-t._sequenceNumber}function o(){this._animations=[],this.currentTime=window.performance&&performance.now?performance.now():0}function r(){m.forEach(function(e){e()}),m.length=0}function a(e,i,n){p=!0,c=!1,t.timeline.currentTime=e,u=!1;var s=[],o=[],r=[],a=[];return n.forEach(function(t){t._tick(e,i),t._inEffect?(o.push(t._effect),t._markTarget()):(s.push(t._effect),t._unmarkTarget()),t._needsTick&&(u=!0);var n=t._inEffect||t._needsTick;t._inTimeline=n,n?r.push(t):a.push(t)}),m.push.apply(m,s),m.push.apply(m,o),u&&requestAnimationFrame(function(){}),p=!1,[r,a]}var l=window.requestAnimationFrame,d=[],h=0;window.requestAnimationFrame=function(e){var t=h++;return 0==d.length&&l(n),d.push([t,e]),t},window.cancelAnimationFrame=function(e){d.forEach(function(t){t[0]==e&&(t[1]=function(){})})},o.prototype={_play:function(i){i._timing=e.normalizeTimingInput(i.timing);var n=new t.Animation(i);return n._idle=!1,n._timeline=this,this._animations.push(n),t.restart(),t.applyDirtiedAnimation(n),n}};var u=!1,c=!1;t.restart=function(){return u||(u=!0,requestAnimationFrame(function(){}),c=!0),c},t.applyDirtiedAnimation=function(e){if(!p){e._markTarget();var i=e._targetAnimations();i.sort(s),a(t.timeline.currentTime,!1,i.slice())[1].forEach(function(e){var t=f._animations.indexOf(e);-1!==t&&f._animations.splice(t,1)}),r()}};var m=[],p=!1,f=new o;t.timeline=f}(i,n),function(e,t){function i(e,t){for(var i=0,n=0;n<e.length;n++)i+=e[n]*t[n];return i}function n(e,t){return[e[0]*t[0]+e[4]*t[1]+e[8]*t[2]+e[12]*t[3],e[1]*t[0]+e[5]*t[1]+e[9]*t[2]+e[13]*t[3],e[2]*t[0]+e[6]*t[1]+e[10]*t[2]+e[14]*t[3],e[3]*t[0]+e[7]*t[1]+e[11]*t[2]+e[15]*t[3],e[0]*t[4]+e[4]*t[5]+e[8]*t[6]+e[12]*t[7],e[1]*t[4]+e[5]*t[5]+e[9]*t[6]+e[13]*t[7],e[2]*t[4]+e[6]*t[5]+e[10]*t[6]+e[14]*t[7],e[3]*t[4]+e[7]*t[5]+e[11]*t[6]+e[15]*t[7],e[0]*t[8]+e[4]*t[9]+e[8]*t[10]+e[12]*t[11],e[1]*t[8]+e[5]*t[9]+e[9]*t[10]+e[13]*t[11],e[2]*t[8]+e[6]*t[9]+e[10]*t[10]+e[14]*t[11],e[3]*t[8]+e[7]*t[9]+e[11]*t[10]+e[15]*t[11],e[0]*t[12]+e[4]*t[13]+e[8]*t[14]+e[12]*t[15],e[1]*t[12]+e[5]*t[13]+e[9]*t[14]+e[13]*t[15],e[2]*t[12]+e[6]*t[13]+e[10]*t[14]+e[14]*t[15],e[3]*t[12]+e[7]*t[13]+e[11]*t[14]+e[15]*t[15]]}function s(e){var t=e.rad||0;return((e.deg||0)/360+(e.grad||0)/400+(e.turn||0))*(2*Math.PI)+t}function o(e){switch(e.t){case"rotatex":var t=s(e.d[0]);return[1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1];case"rotatey":t=s(e.d[0]);return[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1];case"rotate":case"rotatez":t=s(e.d[0]);return[Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1,0,0,0,0,1];case"rotate3d":var i=e.d[0],n=e.d[1],o=e.d[2],r=(t=s(e.d[3]),i*i+n*n+o*o);if(0===r)i=1,n=0,o=0;else if(1!==r){var a=Math.sqrt(r);i/=a,n/=a,o/=a}var l=Math.sin(t/2),d=l*Math.cos(t/2),h=l*l;return[1-2*(n*n+o*o)*h,2*(i*n*h+o*d),2*(i*o*h-n*d),0,2*(i*n*h-o*d),1-2*(i*i+o*o)*h,2*(n*o*h+i*d),0,2*(i*o*h+n*d),2*(n*o*h-i*d),1-2*(i*i+n*n)*h,0,0,0,0,1];case"scale":return[e.d[0],0,0,0,0,e.d[1],0,0,0,0,1,0,0,0,0,1];case"scalex":return[e.d[0],0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaley":return[1,0,0,0,0,e.d[0],0,0,0,0,1,0,0,0,0,1];case"scalez":return[1,0,0,0,0,1,0,0,0,0,e.d[0],0,0,0,0,1];case"scale3d":return[e.d[0],0,0,0,0,e.d[1],0,0,0,0,e.d[2],0,0,0,0,1];case"skew":var u=s(e.d[0]),c=s(e.d[1]);return[1,Math.tan(c),0,0,Math.tan(u),1,0,0,0,0,1,0,0,0,0,1];case"skewx":t=s(e.d[0]);return[1,0,0,0,Math.tan(t),1,0,0,0,0,1,0,0,0,0,1];case"skewy":t=s(e.d[0]);return[1,Math.tan(t),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return[1,0,0,0,0,1,0,0,0,0,1,0,i=e.d[0].px||0,n=e.d[1].px||0,0,1];case"translatex":return[1,0,0,0,0,1,0,0,0,0,1,0,i=e.d[0].px||0,0,0,1];case"translatey":return[1,0,0,0,0,1,0,0,0,0,1,0,0,n=e.d[0].px||0,0,1];case"translatez":return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,o=e.d[0].px||0,1];case"translate3d":return[1,0,0,0,0,1,0,0,0,0,1,0,i=e.d[0].px||0,n=e.d[1].px||0,o=e.d[2].px||0,1];case"perspective":return[1,0,0,0,0,1,0,0,0,0,1,e.d[0].px?-1/e.d[0].px:0,0,0,0,1];case"matrix":return[e.d[0],e.d[1],0,0,e.d[2],e.d[3],0,0,0,0,1,0,e.d[4],e.d[5],0,1];case"matrix3d":return e.d}}function r(e){return 0===e.length?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:e.map(o).reduce(n)}var a=function(){function e(e){return e[0][0]*e[1][1]*e[2][2]+e[1][0]*e[2][1]*e[0][2]+e[2][0]*e[0][1]*e[1][2]-e[0][2]*e[1][1]*e[2][0]-e[1][2]*e[2][1]*e[0][0]-e[2][2]*e[0][1]*e[1][0]}function t(e){var t=n(e);return[e[0]/t,e[1]/t,e[2]/t]}function n(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])}function s(e,t,i,n){return[i*e[0]+n*t[0],i*e[1]+n*t[1],i*e[2]+n*t[2]]}return function(o){var r=[o.slice(0,4),o.slice(4,8),o.slice(8,12),o.slice(12,16)];if(1!==r[3][3])return null;for(var a=[],l=0;l<4;l++)a.push(r[l].slice());for(l=0;l<3;l++)a[l][3]=0;if(0===e(a))return null;var d,h=[];r[0][3]||r[1][3]||r[2][3]?(h.push(r[0][3]),h.push(r[1][3]),h.push(r[2][3]),h.push(r[3][3]),d=function(e,t){for(var i=[],n=0;n<4;n++){for(var s=0,o=0;o<4;o++)s+=e[o]*t[o][n];i.push(s)}return i}(h,function(e){return[[e[0][0],e[1][0],e[2][0],e[3][0]],[e[0][1],e[1][1],e[2][1],e[3][1]],[e[0][2],e[1][2],e[2][2],e[3][2]],[e[0][3],e[1][3],e[2][3],e[3][3]]]}(function(t){for(var i=1/e(t),n=t[0][0],s=t[0][1],o=t[0][2],r=t[1][0],a=t[1][1],l=t[1][2],d=t[2][0],h=t[2][1],u=t[2][2],c=[[(a*u-l*h)*i,(o*h-s*u)*i,(s*l-o*a)*i,0],[(l*d-r*u)*i,(n*u-o*d)*i,(o*r-n*l)*i,0],[(r*h-a*d)*i,(d*s-n*h)*i,(n*a-s*r)*i,0]],m=[],p=0;p<3;p++){for(var f=0,g=0;g<3;g++)f+=t[3][g]*c[g][p];m.push(f)}return m.push(1),c.push(m),c}(a)))):d=[0,0,0,1];var u=r[3].slice(0,3),c=[];c.push(r[0].slice(0,3));var m=[];m.push(n(c[0])),c[0]=t(c[0]);var p=[];c.push(r[1].slice(0,3)),p.push(i(c[0],c[1])),c[1]=s(c[1],c[0],1,-p[0]),m.push(n(c[1])),c[1]=t(c[1]),p[0]/=m[1],c.push(r[2].slice(0,3)),p.push(i(c[0],c[2])),c[2]=s(c[2],c[0],1,-p[1]),p.push(i(c[1],c[2])),c[2]=s(c[2],c[1],1,-p[2]),m.push(n(c[2])),c[2]=t(c[2]),p[1]/=m[2],p[2]/=m[2];var f=function(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}(c[1],c[2]);if(i(c[0],f)<0)for(l=0;l<3;l++)m[l]*=-1,c[l][0]*=-1,c[l][1]*=-1,c[l][2]*=-1;var g,v,w=c[0][0]+c[1][1]+c[2][2]+1;return w>1e-4?(g=.5/Math.sqrt(w),v=[(c[2][1]-c[1][2])*g,(c[0][2]-c[2][0])*g,(c[1][0]-c[0][1])*g,.25/g]):c[0][0]>c[1][1]&&c[0][0]>c[2][2]?v=[.25*(g=2*Math.sqrt(1+c[0][0]-c[1][1]-c[2][2])),(c[0][1]+c[1][0])/g,(c[0][2]+c[2][0])/g,(c[2][1]-c[1][2])/g]:c[1][1]>c[2][2]?(g=2*Math.sqrt(1+c[1][1]-c[0][0]-c[2][2]),v=[(c[0][1]+c[1][0])/g,.25*g,(c[1][2]+c[2][1])/g,(c[0][2]-c[2][0])/g]):(g=2*Math.sqrt(1+c[2][2]-c[0][0]-c[1][1]),v=[(c[0][2]+c[2][0])/g,(c[1][2]+c[2][1])/g,.25*g,(c[1][0]-c[0][1])/g]),[u,m,p,v,d]}}();e.dot=i,e.makeMatrixDecomposition=function(e){return[a(r(e))]},e.transformListToMatrix=r}(n),function(e){function t(e,t){var i=e.exec(t);if(i)return[i=e.ignoreCase?i[0].toLowerCase():i[0],t.substr(i.length)]}function i(e,t){var i=e(t=t.replace(/^\s*/,""));if(i)return[i[0],i[1].replace(/^\s*/,"")]}function n(e,t,i,n,s){for(var o=[],r=[],a=[],l=function(e,t){for(var i=e,n=t;i&&n;)i>n?i%=n:n%=i;return e*t/(i+n)}(n.length,s.length),d=0;d<l;d++){var h=t(n[d%n.length],s[d%s.length]);if(!h)return;o.push(h[0]),r.push(h[1]),a.push(h[2])}return[o,r,function(t){var n=t.map(function(e,t){return a[t](e)}).join(i);return e?e(n):n}]}e.consumeToken=t,e.consumeTrimmed=i,e.consumeRepeated=function(e,n,s){e=i.bind(null,e);for(var o=[];;){var r=e(s);if(!r)return[o,s];if(o.push(r[0]),!(r=t(n,s=r[1]))||""==r[1])return[o,s];s=r[1]}},e.consumeParenthesised=function(e,t){for(var i=0,n=0;n<t.length&&(!/\s|,/.test(t[n])||0!=i);n++)if("("==t[n])i++;else if(")"==t[n]&&(0==--i&&n++,i<=0))break;var s=e(t.substr(0,n));return void 0==s?void 0:[s,t.substr(n)]},e.ignore=function(e){return function(t){var i=e(t);return i&&(i[0]=void 0),i}},e.optional=function(e,t){return function(i){return e(i)||[t,i]}},e.consumeList=function(t,i){for(var n=[],s=0;s<t.length;s++){var o=e.consumeTrimmed(t[s],i);if(!o||""==o[0])return;void 0!==o[0]&&n.push(o[0]),i=o[1]}if(""==i)return n},e.mergeNestedRepeated=n.bind(null,null),e.mergeWrappedNestedRepeated=n,e.mergeList=function(e,t,i){for(var n=[],s=[],o=[],r=0,a=0;a<i.length;a++)if("function"==typeof i[a]){var l=i[a](e[r],t[r++]);n.push(l[0]),s.push(l[1]),o.push(l[2])}else!function(e){n.push(!1),s.push(!1),o.push(function(){return i[e]})}(a);return[n,s,function(e){for(var t="",i=0;i<e.length;i++)t+=o[i](e[i]);return t}]}}(n),function(e){function t(t){var i={inset:!1,lengths:[],color:null},n=e.consumeRepeated(function(t){var n;return(n=e.consumeToken(/^inset/i,t))?(i.inset=!0,n):(n=e.consumeLengthOrPercent(t))?(i.lengths.push(n[0]),n):(n=e.consumeColor(t))?(i.color=n[0],n):void 0},/^/,t);if(n&&n[0].length)return[i,n[1]]}var i=function(t,i,n,s){function o(e){return{inset:e,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var r=[],a=[],l=0;l<n.length||l<s.length;l++){var d=n[l]||o(s[l].inset),h=s[l]||o(n[l].inset);r.push(d),a.push(h)}return e.mergeNestedRepeated(t,i,r,a)}.bind(null,function(t,i){for(;t.lengths.length<Math.max(t.lengths.length,i.lengths.length);)t.lengths.push({px:0});for(;i.lengths.length<Math.max(t.lengths.length,i.lengths.length);)i.lengths.push({px:0});if(t.inset==i.inset&&!!t.color==!!i.color){for(var n,s=[],o=[[],0],r=[[],0],a=0;a<t.lengths.length;a++){var l=e.mergeDimensions(t.lengths[a],i.lengths[a],2==a);o[0].push(l[0]),r[0].push(l[1]),s.push(l[2])}if(t.color&&i.color){var d=e.mergeColors(t.color,i.color);o[1]=d[0],r[1]=d[1],n=d[2]}return[o,r,function(e){for(var i=t.inset?"inset ":" ",o=0;o<s.length;o++)i+=s[o](e[0][o])+" ";return n&&(i+=n(e[1])),i}]}},", ");e.addPropertiesHandler(function(i){var n=e.consumeRepeated(t,/^,/,i);if(n&&""==n[1])return n[0]},i,["box-shadow","text-shadow"])}(n),function(e,t){function i(e){return e.toFixed(3).replace(/0+$/,"").replace(/\.$/,"")}function n(e,t,i){return Math.min(t,Math.max(e,i))}function s(e){if(/^\s*[-+]?(\d*\.)?\d+\s*$/.test(e))return Number(e)}function o(e,t){return function(s,o){return[s,o,function(s){return i(n(e,t,s))}]}}function r(e){var t=e.trim().split(/\s*[\s,]\s*/);if(0!==t.length){for(var i=[],n=0;n<t.length;n++){var o=s(t[n]);if(void 0===o)return;i.push(o)}return i}}e.clamp=n,e.addPropertiesHandler(r,function(e,t){if(e.length==t.length)return[e,t,function(e){return e.map(i).join(" ")}]},["stroke-dasharray"]),e.addPropertiesHandler(s,o(0,1/0),["border-image-width","line-height"]),e.addPropertiesHandler(s,o(0,1),["opacity","shape-image-threshold"]),e.addPropertiesHandler(s,function(e,t){if(0!=e)return o(0,1/0)(e,t)},["flex-grow","flex-shrink"]),e.addPropertiesHandler(s,function(e,t){return[e,t,function(e){return Math.round(n(1,1/0,e))}]},["orphans","widows"]),e.addPropertiesHandler(s,function(e,t){return[e,t,Math.round]},["z-index"]),e.parseNumber=s,e.parseNumberList=r,e.mergeNumbers=function(e,t){return[e,t,i]},e.numberToString=i}(n),function(e,t){n.addPropertiesHandler(String,function(e,t){if("visible"==e||"visible"==t)return[0,1,function(i){return i<=0?e:i>=1?t:"visible"}]},["visibility"])}(),function(e,t){function i(e){e=e.trim(),o.fillStyle="#000",o.fillStyle=e;var t=o.fillStyle;if(o.fillStyle="#fff",o.fillStyle=e,t==o.fillStyle){o.fillRect(0,0,1,1);var i=o.getImageData(0,0,1,1).data;o.clearRect(0,0,1,1);var n=i[3]/255;return[i[0]*n,i[1]*n,i[2]*n,n]}}function n(t,i){return[t,i,function(t){function i(e){return Math.max(0,Math.min(255,e))}if(t[3])for(var n=0;n<3;n++)t[n]=Math.round(i(t[n]/t[3]));return t[3]=e.numberToString(e.clamp(0,1,t[3])),"rgba("+t.join(",")+")"}]}var s=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");s.width=s.height=1;var o=s.getContext("2d");e.addPropertiesHandler(i,n,["background-color","border-bottom-color","border-left-color","border-right-color","border-top-color","color","fill","flood-color","lighting-color","outline-color","stop-color","stroke","text-decoration-color"]),e.consumeColor=e.consumeParenthesised.bind(null,i),e.mergeColors=n}(n),function(e,t){function i(e){function t(){var t=r.exec(e);o=t?t[0]:void 0}function i(){if("("!==o)return function(){var e=Number(o);return t(),e}();t();var e=s();return")"!==o?NaN:(t(),e)}function n(){for(var e=i();"*"===o||"/"===o;){var n=o;t();var s=i();"*"===n?e*=s:e/=s}return e}function s(){for(var e=n();"+"===o||"-"===o;){var i=o;t();var s=n();"+"===i?e+=s:e-=s}return e}var o,r=/([\+\-\w\.]+|[\(\)\*\/])/g;return t(),s()}function n(e,t){if("0"==(t=t.trim().toLowerCase())&&"px".search(e)>=0)return{px:0};if(/^[^(]*$|^calc/.test(t)){var n={};t=(t=t.replace(/calc\(/g,"(")).replace(e,function(e){return n[e]=null,"U"+e});for(var s="U("+e.source+")",o=t.replace(/[-+]?(\d*\.)?\d+([Ee][-+]?\d+)?/g,"N").replace(new RegExp("N"+s,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),r=[/N\*(D)/g,/(N|D)[*\/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],a=0;a<r.length;)r[a].test(o)?(o=o.replace(r[a],"$1"),a=0):a++;if("D"==o){for(var l in n){var d=i(t.replace(new RegExp("U"+l,"g"),"").replace(new RegExp(s,"g"),"*0"));if(!isFinite(d))return;n[l]=d}return n}}}function s(e,t){return o(e,t,!0)}function o(t,i,n){var s,o=[];for(s in t)o.push(s);for(s in i)o.indexOf(s)<0&&o.push(s);return t=o.map(function(e){return t[e]||0}),i=o.map(function(e){return i[e]||0}),[t,i,function(t){var i=t.map(function(i,s){return 1==t.length&&n&&(i=Math.max(i,0)),e.numberToString(i)+o[s]}).join(" + ");return t.length>1?"calc("+i+")":i}]}var r="px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc",a=n.bind(null,new RegExp(r,"g")),l=n.bind(null,new RegExp(r+"|%","g")),d=n.bind(null,/deg|rad|grad|turn/g);e.parseLength=a,e.parseLengthOrPercent=l,e.consumeLengthOrPercent=e.consumeParenthesised.bind(null,l),e.parseAngle=d,e.mergeDimensions=o;var h=e.consumeParenthesised.bind(null,a),u=e.consumeRepeated.bind(void 0,h,/^/),c=e.consumeRepeated.bind(void 0,u,/^,/);e.consumeSizePairList=c;var m=e.mergeNestedRepeated.bind(void 0,s," "),p=e.mergeNestedRepeated.bind(void 0,m,",");e.mergeNonNegativeSizePair=m,e.addPropertiesHandler(function(e){var t=c(e);if(t&&""==t[1])return t[0]},p,["background-size"]),e.addPropertiesHandler(l,s,["border-bottom-width","border-image-width","border-left-width","border-right-width","border-top-width","flex-basis","font-size","height","line-height","max-height","max-width","outline-width","width"]),e.addPropertiesHandler(l,o,["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius","bottom","left","letter-spacing","margin-bottom","margin-left","margin-right","margin-top","min-height","min-width","outline-offset","padding-bottom","padding-left","padding-right","padding-top","perspective","right","shape-margin","stroke-dashoffset","text-indent","top","vertical-align","word-spacing"])}(n),function(e,t){function i(t){return e.consumeLengthOrPercent(t)||e.consumeToken(/^auto/,t)}function n(t){var n=e.consumeList([e.ignore(e.consumeToken.bind(null,/^rect/)),e.ignore(e.consumeToken.bind(null,/^\(/)),e.consumeRepeated.bind(null,i,/^,/),e.ignore(e.consumeToken.bind(null,/^\)/))],t);if(n&&4==n[0].length)return n[0]}var s=e.mergeWrappedNestedRepeated.bind(null,function(e){return"rect("+e+")"},function(t,i){return"auto"==t||"auto"==i?[!0,!1,function(n){var s=n?t:i;if("auto"==s)return"auto";var o=e.mergeDimensions(s,s);return o[2](o[0])}]:e.mergeDimensions(t,i)},", ");e.parseBox=n,e.mergeBoxes=s,e.addPropertiesHandler(n,s,["clip"])}(n),function(e,t){function i(e){return function(t){var i=0;return e.map(function(e){return e===d?t[i++]:e})}}function n(e){return e}function s(t){if("none"==(t=t.toLowerCase().trim()))return[];for(var i,n=/\s*(\w+)\(([^)]*)\)/g,s=[],o=0;i=n.exec(t);){if(i.index!=o)return;o=i.index+i[0].length;var r=i[1],a=c[r];if(!a)return;var l=i[2].split(","),d=a[0];if(d.length<l.length)return;for(var m=[],p=0;p<d.length;p++){var f,g=l[p],v=d[p];if(void 0===(f=g?{A:function(t){return"0"==t.trim()?u:e.parseAngle(t)},N:e.parseNumber,T:e.parseLengthOrPercent,L:e.parseLength}[v.toUpperCase()](g):{a:u,n:m[0],t:h}[v]))return;m.push(f)}if(s.push({t:r,d:m}),n.lastIndex==t.length)return s}}function o(e){return e.toFixed(6).replace(".000000","")}function r(t,i){if(t.decompositionPair!==i){t.decompositionPair=i;var n=e.makeMatrixDecomposition(t)}if(i.decompositionPair!==t){i.decompositionPair=t;var s=e.makeMatrixDecomposition(i)}return null==n[0]||null==s[0]?[[!1],[!0],function(e){return e?i[0].d:t[0].d}]:(n[0].push(0),s[0].push(1),[n,s,function(t){var i=e.quat(n[0][3],s[0][3],t[5]);return e.composeMatrix(t[0],t[1],t[2],i,t[4]).map(o).join(",")}])}function a(e){return e.replace(/[xy]/,"")}function l(e){return e.replace(/(x|y|z|3d)?$/,"3d")}var d=null,h={px:0},u={deg:0},c={matrix:["NNNNNN",[d,d,0,0,d,d,0,0,0,0,1,0,d,d,0,1],n],matrix3d:["NNNNNNNNNNNNNNNN",n],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",i([d,d,1]),n],scalex:["N",i([d,1,1]),i([d,1])],scaley:["N",i([1,d,1]),i([1,d])],scalez:["N",i([1,1,d])],scale3d:["NNN",n],skew:["Aa",null,n],skewx:["A",null,i([d,u])],skewy:["A",null,i([u,d])],translate:["Tt",i([d,d,h]),n],translatex:["T",i([d,h,h]),i([d,h])],translatey:["T",i([h,d,h]),i([h,d])],translatez:["L",i([h,h,d])],translate3d:["TTL",n]};e.addPropertiesHandler(s,function(t,i){var n=e.makeMatrixDecomposition&&!0,s=!1;if(!t.length||!i.length){t.length||(s=!0,t=i,i=[]);for(var o=0;o<t.length;o++){var d=t[o].t,h=t[o].d,u="scale"==d.substr(0,5)?1:0;i.push({t:d,d:h.map(function(e){if("number"==typeof e)return u;var t={};for(var i in e)t[i]=u;return t})})}}var m=function(e,t){return"perspective"==e&&"perspective"==t||("matrix"==e||"matrix3d"==e)&&("matrix"==t||"matrix3d"==t)},p=[],f=[],g=[];if(t.length!=i.length){if(!n)return;p=[(S=r(t,i))[0]],f=[S[1]],g=[["matrix",[S[2]]]]}else for(o=0;o<t.length;o++){var v=t[o].t,w=i[o].t,y=t[o].d,b=i[o].d,x=c[v],_=c[w];if(m(v,w)){if(!n)return;var S=r([t[o]],[i[o]]);p.push(S[0]),f.push(S[1]),g.push(["matrix",[S[2]]])}else{if(v==w)d=v;else if(x[2]&&_[2]&&a(v)==a(w))d=a(v),y=x[2](y),b=_[2](b);else{if(!x[1]||!_[1]||l(v)!=l(w)){if(!n)return;p=[(S=r(t,i))[0]],f=[S[1]],g=[["matrix",[S[2]]]];break}d=l(v),y=x[1](y),b=_[1](b)}for(var T=[],k=[],E=[],C=0;C<y.length;C++)S=("number"==typeof y[C]?e.mergeNumbers:e.mergeDimensions)(y[C],b[C]),T[C]=S[0],k[C]=S[1],E.push(S[2]);p.push(T),f.push(k),g.push([d,E])}}if(s){var I=p;p=f,f=I}return[p,f,function(e){return e.map(function(e,t){var i=e.map(function(e,i){return g[t][1][i](e)}).join(",");return"matrix"==g[t][0]&&16==i.split(",").length&&(g[t][0]="matrix3d"),g[t][0]+"("+i+")"}).join(" ")}]},["transform"]),e.transformToSvgMatrix=function(t){var i=e.transformListToMatrix(s(t));return"matrix("+o(i[0])+" "+o(i[1])+" "+o(i[4])+" "+o(i[5])+" "+o(i[12])+" "+o(i[13])+")"}}(n),function(e){function t(t){return t=100*Math.round(t/100),400===(t=e.clamp(100,900,t))?"normal":700===t?"bold":String(t)}e.addPropertiesHandler(function(e){var t=Number(e);if(!(isNaN(t)||t<100||t>900||t%100!=0))return t},function(e,i){return[e,i,t]},["font-weight"])}(n),function(e){function t(e){var t={};for(var i in e)t[i]=-e[i];return t}function i(t){return e.consumeToken(/^(left|center|right|top|bottom)\b/i,t)||e.consumeLengthOrPercent(t)}function n(t,n){var s=e.consumeRepeated(i,/^/,n);if(s&&""==s[1]){var r=s[0];if(r[0]=r[0]||"center",r[1]=r[1]||"center",3==t&&(r[2]=r[2]||{px:0}),r.length==t){if(/top|bottom/.test(r[0])||/left|right/.test(r[1])){var a=r[0];r[0]=r[1],r[1]=a}if(/left|right|center|Object/.test(r[0])&&/top|bottom|center|Object/.test(r[1]))return r.map(function(e){return"object"==typeof e?e:o[e]})}}}function s(n){var s=e.consumeRepeated(i,/^/,n);if(s){for(var r=s[0],a=[{"%":50},{"%":50}],l=0,d=!1,h=0;h<r.length;h++){var u=r[h];"string"==typeof u?(d=/bottom|right/.test(u),a[l={left:0,right:0,center:l,top:1,bottom:1}[u]]=o[u],"center"==u&&l++):(d&&((u=t(u))["%"]=(u["%"]||0)+100),a[l]=u,l++,d=!1)}return[a,s[1]]}}var o={left:{"%":0},center:{"%":50},right:{"%":100},top:{"%":0},bottom:{"%":100}},r=e.mergeNestedRepeated.bind(null,e.mergeDimensions," ");e.addPropertiesHandler(n.bind(null,3),r,["transform-origin"]),e.addPropertiesHandler(n.bind(null,2),r,["perspective-origin"]),e.consumePosition=s,e.mergeOffsetList=r;var a=e.mergeNestedRepeated.bind(null,r,", ");e.addPropertiesHandler(function(t){var i=e.consumeRepeated(s,/^,/,t);if(i&&""==i[1])return i[0]},a,["background-position","object-position"])}(n),function(e){var t=e.consumeParenthesised.bind(null,e.parseLengthOrPercent),i=e.consumeRepeated.bind(void 0,t,/^/),n=e.mergeNestedRepeated.bind(void 0,e.mergeDimensions," "),s=e.mergeNestedRepeated.bind(void 0,n,",");e.addPropertiesHandler(function(n){var s=e.consumeToken(/^circle/,n);if(s&&s[0])return["circle"].concat(e.consumeList([e.ignore(e.consumeToken.bind(void 0,/^\(/)),t,e.ignore(e.consumeToken.bind(void 0,/^at/)),e.consumePosition,e.ignore(e.consumeToken.bind(void 0,/^\)/))],s[1]));var o=e.consumeToken(/^ellipse/,n);if(o&&o[0])return["ellipse"].concat(e.consumeList([e.ignore(e.consumeToken.bind(void 0,/^\(/)),i,e.ignore(e.consumeToken.bind(void 0,/^at/)),e.consumePosition,e.ignore(e.consumeToken.bind(void 0,/^\)/))],o[1]));var r=e.consumeToken(/^polygon/,n);return r&&r[0]?["polygon"].concat(e.consumeList([e.ignore(e.consumeToken.bind(void 0,/^\(/)),e.optional(e.consumeToken.bind(void 0,/^nonzero\s*,|^evenodd\s*,/),"nonzero,"),e.consumeSizePairList,e.ignore(e.consumeToken.bind(void 0,/^\)/))],r[1])):void 0},function(t,i){if(t[0]===i[0])return"circle"==t[0]?e.mergeList(t.slice(1),i.slice(1),["circle(",e.mergeDimensions," at ",e.mergeOffsetList,")"]):"ellipse"==t[0]?e.mergeList(t.slice(1),i.slice(1),["ellipse(",e.mergeNonNegativeSizePair," at ",e.mergeOffsetList,")"]):"polygon"==t[0]&&t[1]==i[1]?e.mergeList(t.slice(2),i.slice(2),["polygon(",t[1],s,")"]):void 0},["shape-outside"])}(n),function(e,t){function i(e,t){t.concat([e]).forEach(function(t){t in document.documentElement.style&&(n[e]=t),s[t]=e})}var n={},s={};i("transform",["webkitTransform","msTransform"]),i("transformOrigin",["webkitTransformOrigin"]),i("perspective",["webkitPerspective"]),i("perspectiveOrigin",["webkitPerspectiveOrigin"]),e.propertyName=function(e){return n[e]||e},e.unprefixedPropertyName=function(e){return s[e]||e}}(n)}(),function(){if(void 0===document.createElement("div").animate([]).oncancel){if(window.performance&&performance.now)var e=function(){return performance.now()};else e=function(){return Date.now()};var t=window.Element.prototype.animate;window.Element.prototype.animate=function(i,n){var s=t.call(this,i,n);s._cancelHandlers=[],s.oncancel=null;var o=s.cancel;s.cancel=function(){o.call(this);var t=new function(e,t,i){this.target=e,this.currentTime=t,this.timelineTime=i,this.type="cancel",this.bubbles=!1,this.cancelable=!1,this.currentTarget=e,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()}(this,null,e()),i=this._cancelHandlers.concat(this.oncancel?[this.oncancel]:[]);setTimeout(function(){i.forEach(function(e){e.call(t.target,t)})},0)};var r=s.addEventListener;s.addEventListener=function(e,t){"function"==typeof t&&"cancel"==e?this._cancelHandlers.push(t):r.call(this,e,t)};var a=s.removeEventListener;return s.removeEventListener=function(e,t){if("cancel"==e){var i=this._cancelHandlers.indexOf(t);i>=0&&this._cancelHandlers.splice(i,1)}else a.call(this,e,t)},s}}}(),function(e){var t=document.documentElement,i=null,n=!1;try{var s="0"==getComputedStyle(t).getPropertyValue("opacity")?"1":"0";(i=t.animate({opacity:[s,s]},{duration:1})).currentTime=0,n=getComputedStyle(t).getPropertyValue("opacity")==s}catch(e){}finally{i&&i.cancel()}if(!n){var o=window.Element.prototype.animate;window.Element.prototype.animate=function(t,i){return window.Symbol&&Symbol.iterator&&Array.prototype.from&&t[Symbol.iterator]&&(t=Array.from(t)),Array.isArray(t)||null===t||(t=e.convertToArrayForm(t)),o.call(this,t,i)}}}(i),t.true={}}(0,function(){return this}())},"./src/components/ImageViewer.vue?vue&type=style&index=0&id=0a11ae33&lang=stylus&scoped=true&":function(e,t,i){"use strict";var n=i("./node_modules/style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewer.vue?vue&type=style&index=0&id=0a11ae33&lang=stylus&scoped=true&");i.n(n).a},"./src/components/ImageViewerClose.vue?vue&type=style&index=0&id=e5db2aac&lang=stylus&scoped=true&":function(e,t,i){"use strict";var n=i("./node_modules/style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerClose.vue?vue&type=style&index=0&id=e5db2aac&lang=stylus&scoped=true&");i.n(n).a},"./src/components/ImageViewerContent.vue?vue&type=style&index=0&id=646f7572&lang=stylus&scoped=true&":function(e,t,i){"use strict";var n=i("./node_modules/style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerContent.vue?vue&type=style&index=0&id=646f7572&lang=stylus&scoped=true&");i.n(n).a},"./src/components/ImageViewerImg.vue?vue&type=style&index=0&id=290c9675&lang=stylus&scoped=true&":function(e,t,i){"use strict";var n=i("./node_modules/style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerImg.vue?vue&type=style&index=0&id=290c9675&lang=stylus&scoped=true&");i.n(n).a},"./src/components/ImageViewerInfo.vue?vue&type=style&index=0&id=6d185f4e&lang=stylus&scoped=true&":function(e,t,i){"use strict";var n=i("./node_modules/style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerInfo.vue?vue&type=style&index=0&id=6d185f4e&lang=stylus&scoped=true&");i.n(n).a},"./src/components/ImageViewerItem.vue?vue&type=style&index=0&id=283ea35f&lang=stylus&scoped=true&":function(e,t,i){"use strict";var n=i("./node_modules/style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerItem.vue?vue&type=style&index=0&id=283ea35f&lang=stylus&scoped=true&");i.n(n).a},"./src/components/ImageViewerLoading.vue?vue&type=style&index=0&id=c8a9df7a&lang=stylus&scoped=true&":function(e,t,i){"use strict";var n=i("./node_modules/style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerLoading.vue?vue&type=style&index=0&id=c8a9df7a&lang=stylus&scoped=true&");i.n(n).a},"./src/components/ImageViewerToast.vue?vue&type=style&index=0&id=c2e2f93c&lang=stylus&scoped=true&":function(e,t,i){"use strict";var n=i("./node_modules/style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerToast.vue?vue&type=style&index=0&id=c2e2f93c&lang=stylus&scoped=true&");i.n(n).a},"./src/components/ImageViewerToastPopup.vue?vue&type=style&index=0&id=7ac10129&lang=stylus&scoped=true&":function(e,t,i){"use strict";var n=i("./node_modules/style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerToastPopup.vue?vue&type=style&index=0&id=7ac10129&lang=stylus&scoped=true&");i.n(n).a},"./src/components/ImageViewerZoom.vue?vue&type=style&index=0&id=3b907e08&lang=stylus&scoped=true&":function(e,t,i){"use strict";var n=i("./node_modules/style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/ImageViewerZoom.vue?vue&type=style&index=0&id=3b907e08&lang=stylus&scoped=true&");i.n(n).a},"./src/index.js":function(e,t,i){"use strict";i.r(t);var n=i("./node_modules/fastclick/lib/fastclick.js"),s=i.n(n);const o=/(iPhone|iPod|iPad)/i.test(navigator.userAgent),r=/baiduboxapp/i.test(navigator.userAgent),a=/searchcraft/i.test(navigator.userAgent),l={transform:1,"transform-origin":1},d=!o&&(r||a);var h,u,c,m,p,f,g,v,w,y,b,x,_,S={browser:{isIos:o,isBaidu:r,isSearchCraft:a},animationDowngrade:!o&&(r||a),noop(){},loadImg:e=>new Promise(t=>{let i=new Image;i.onload=(()=>{t(i)}),i.onerror=(()=>{t(!1)}),i.src=e.src}),setCss(e,t){this.modifyTransformProperty(t),Object.keys(t).forEach(i=>{let n=t[i],s=l[i]?"-webkit-"+i:"";n||0===n?s?(e.style[i]=n,e.style[s]=n):e.style[i]=n:(e.style.removeProperty(i),s&&e.style.removeProperty(s))})},modifyTransformProperty(e){d&&e.transform&&e.transform.indexOf("3d")>0&&(e.transform=e.transform.replace(/3d\(([^)]+)\)/,(e,t)=>`(${t=t.slice(0,t.lastIndexOf(","))})`))}},T={disposed:!1,dispose:function(){T.disposed=!0}},k="",E={Webkit:"webkit",Moz:"",O:"o"},C=document.createElement("div"),I=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,L=Number.isNaN||window.isNaN;function j(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function P(e){return h?h+e:e.toLowerCase()}if(void 0===C.style.transform)for(var M in E)if(void 0!==C.style[M+"TransitionProperty"]){k="-"+M.toLowerCase()+"-",h=E[M];break}u=k+"transform",c=k+"transition-property",m=k+"transition-duration",f=k+"transition-delay",p=k+"transition-timing-function",x=P("TransitionEnd"),g=k+"animation-name",v=k+"animation-duration",y=k+"animation-delay",w=k+"animation-timing-function",b=k+"animation-fill-mode",_=P("AnimationEnd");var D={};D[c]="",D[m]="",D[f]="",D[p]="",D[g]="",D[v]="",D[y]="",D[w]="";var A=void 0===h&&void 0===C.style.transitionProperty,N={linear:"linear",ease:"ease","ease-in":"ease-in","ease-out":"ease-out","ease-in-out":"ease-in-out","mag-ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},$=/^@(?:-webkit-)?keyframes\s+(?:['"])?(\w+)(?:['"])?\s*{/;function H(e,t){var i="";Object.keys(t).forEach(n=>{t[n]||0===t[n]?i+=j(n)+":"+t[n]+";":e.style.removeProperty(j(n))}),e.style.cssText+=";"+i}function R(e){return e.indexOf("translate")>-1||(C.style[e]=0,"px"===C.style[e].replace(/\d/g,""))}T.addTimeType=function(e,t){if(N[e]&&N[e]!==t)throw new Error(e+" type is already registered");N[e]=t},T.css3=function(e,t,i,n,s,o){if(T.disposed=!1,e&&t){e.getAttribute("data-naboo")||e.setAttribute("data-naboo",0),e.setAttribute("data-naboo",+e.getAttribute("data-naboo")+1),i=A?0:Number(i)||400,i=Math.max(i,0),n=N[n]||"linear",s=Number(s)||0;var r,a={};if(i/=1e3,s/=1e3,"string"==typeof t){var l;if($.test(t)){var d=(l=t.match($)[1])+"_"+Date.now(),h=document.createElement("style");h.innerText=t.replace(new RegExp(l,"g"),d),document.head.appendChild(h),l=d}else l=t;a[g]=e.style[g]+(e.style[g]?", ":"")+l,a[v]=e.style[v]+(e.style[v]?", ":"")+i+"s",a[w]=e.style[w]+(e.style[w]?", ":"")+n,a[y]=e.style[y]+(e.style[y]?", ":"")+s+"s",a[b]="both",r=_}else if("[object Object]"===Object.prototype.toString.call(t)){var S=[],k="";for(var E in t){var C=t[E];!L(Number(C))&&R(E)&&(C+="px"),I.test(E)?k+=E+"("+C+") ":(a[E]=C,S.push(j(E)))}k&&(a[u]=k,S.push(u)),i>0&&(a[c]=e.style[c]+(e.style[c]?", ":"")+S.join(", "),a[m]=e.style[m]+(e.style[m]?", ":"")+i+"s",a[p]=e.style[p]+(e.style[p]?", ":"")+n,a[f]=e.style[f]+(e.style[f]?", ":"")+s+"s"),r=x}var P=!1,M=function(t){if(!t||t.elapsedTime===i+s){if(void 0!==t){if(t.target!==t.currentTarget)return;t.target.removeEventListener(r,M)}else e.removeEventListener(r,M);P=!0,e.setAttribute("data-naboo",+e.getAttribute("data-naboo")-1),0==+e.getAttribute("data-naboo")&&H(e,D),o&&o()}};i>0&&(e.addEventListener(r,M),setTimeout(function(){T.disposed||P||M()},1e3*(i+s)+25)),e.clientLeft,H(e,a)}};var B={Linear:{easeIn:function(e,t,i,n){return i*e/n+t},easeOut:function(e,t,i,n){return i*e/n+t},easeInOut:function(e,t,i,n){return i*e/n+t}},Quad:{easeIn:function(e,t,i,n){return i*(e/=n)*e+t},easeOut:function(e,t,i,n){return-i*(e/=n)*(e-2)+t},easeInOut:function(e,t,i,n){return(e/=n/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t}},Cubic:{easeIn:function(e,t,i,n){return i*(e/=n)*e*e+t},easeOut:function(e,t,i,n){return i*((e=e/n-1)*e*e+1)+t},easeInOut:function(e,t,i,n){return(e/=n/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t}},Quart:{easeIn:function(e,t,i,n){return i*(e/=n)*e*e*e+t},easeOut:function(e,t,i,n){return-i*((e=e/n-1)*e*e*e-1)+t},easeInOut:function(e,t,i,n){return(e/=n/2)<1?i/2*e*e*e*e+t:-i/2*((e-=2)*e*e*e-2)+t}},Quint:{easeIn:function(e,t,i,n){return i*(e/=n)*e*e*e*e+t},easeOut:function(e,t,i,n){return i*((e=e/n-1)*e*e*e*e+1)+t},easeInOut:function(e,t,i,n){return(e/=n/2)<1?i/2*e*e*e*e*e+t:i/2*((e-=2)*e*e*e*e+2)+t}},Sine:{easeIn:function(e,t,i,n){return-i*Math.cos(e/n*(Math.PI/2))+i+t},easeOut:function(e,t,i,n){return i*Math.sin(e/n*(Math.PI/2))+t},easeInOut:function(e,t,i,n){return-i/2*(Math.cos(Math.PI*e/n)-1)+t}},Expo:{easeIn:function(e,t,i,n){return 0==e?t:i*Math.pow(2,10*(e/n-1))+t},easeOut:function(e,t,i,n){return e==n?t+i:i*(1-Math.pow(2,-10*e/n))+t},easeInOut:function(e,t,i,n){return 0==e?t:e==n?t+i:(e/=n/2)<1?i/2*Math.pow(2,10*(e-1))+t:i/2*(2-Math.pow(2,-10*--e))+t}},Circ:{easeIn:function(e,t,i,n){return-i*(Math.sqrt(1-(e/=n)*e)-1)+t},easeOut:function(e,t,i,n){return i*Math.sqrt(1-(e=e/n-1)*e)+t},easeInOut:function(e,t,i,n){return(e/=n/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+t:i/2*(Math.sqrt(1-(e-=2)*e)+1)+t}},Elastic:{easeIn:function(e,t,i,n,s,o){var r;return 0==e?t:1==(e/=n)?t+i:(void 0===o&&(o=.3*n),!s||s<Math.abs(i)?(r=o/4,s=i):r=o/(2*Math.PI)*Math.asin(i/s),-s*Math.pow(2,10*(e-=1))*Math.sin((e*n-r)*(2*Math.PI)/o)+t)},easeOut:function(e,t,i,n,s,o){var r;return 0==e?t:1==(e/=n)?t+i:(void 0===o&&(o=.3*n),!s||s<Math.abs(i)?(s=i,r=o/4):r=o/(2*Math.PI)*Math.asin(i/s),s*Math.pow(2,-10*e)*Math.sin((e*n-r)*(2*Math.PI)/o)+i+t)},easeInOut:function(e,t,i,n,s,o){var r;return 0==e?t:2==(e/=n/2)?t+i:(void 0===o&&(o=n*(.3*1.5)),!s||s<Math.abs(i)?(s=i,r=o/4):r=o/(2*Math.PI)*Math.asin(i/s),e<1?s*Math.pow(2,10*(e-=1))*Math.sin((e*n-r)*(2*Math.PI)/o)*-.5+t:s*Math.pow(2,-10*(e-=1))*Math.sin((e*n-r)*(2*Math.PI)/o)*.5+i+t)}},Back:{easeIn:function(e,t,i,n,s){return void 0===s&&(s=1.70158),i*(e/=n)*e*((s+1)*e-s)+t},easeOut:function(e,t,i,n,s){return void 0===s&&(s=1.70158),i*((e=e/n-1)*e*((s+1)*e+s)+1)+t},easeInOut:function(e,t,i,n,s){return void 0===s&&(s=1.70158),(e/=n/2)<1?i/2*(e*e*((1+(s*=1.525))*e-s))+t:i/2*((e-=2)*e*((1+(s*=1.525))*e+s)+2)+t}},Bounce:{easeIn:function(e,t,i,n){return i-B.Bounce.easeOut(n-e,0,i,n)+t},easeOut:function(e,t,i,n){return(e/=n)<1/2.75?i*(7.5625*e*e)+t:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+t:i*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOut:function(e,t,i,n){return e<n/2?.5*B.Bounce.easeIn(2*e,0,i,n)+t:.5*B.Bounce.easeOut(2*e-n,0,i,n)+.5*i+t}}};function z(e,t,i,n,s,o,r,a){var l=Date.now(),d=n-i;!function h(){var u=Date.now()-l,c=r(u,i,d,o);s&&(c+=""+s),void 0!==e.style[t]?e.style[t]=c:e[t]=c,u<o?window.requestAnimationFrame(h):(void 0!==e.style[t]?e.style[t]=n+""+s:e[t]=n+""+s,a())}()}!function(){for(var e=0,t=["webkit","moz"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,i){var n=(new Date).getTime(),s=Math.max(0,16.7-(n-e)),o=window.setTimeout(function(){T.disposed||t(n+s)},s);return e=n+s,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),T.js=function(e,t,i,n,s,o,r){T.disposed=!1;var a=B[n][s],l=e.ownerDocument.defaultView.getComputedStyle(e,null);r||(r=o,o=0);var d=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i;setTimeout(function(){if(!T.disposed){var n=0;for(var s in t){n++;var o=l[s]||l.getPropertyValue(s);o||0===o||(o=e[s]);var h=d.exec(o),u=h[3];o=parseFloat(h[2]);var c=parseFloat(t[s]);z(e,s,o,c,u,i,a,function(){--n<=0&&r()})}}},o)};var O=T;const U={"ease-out":"ease-out","ease-out2":"ease-out","ease-in-out":"ease-in-out","ease-in-out2":"ease-in-out","ease-in-out3":"ease-in-out","ease-in-out4":"ease-in-out","ease-in-out5":"ease-in-out","ease-in-out6":"ease-in-out"},W={"ease-out":"cubic-bezier(0.0, 0.0, 0.4, 1)","ease-out2":"cubic-bezier(0.0, 0.0, 0.5, 1)","ease-in-out":"cubic-bezier(0.4, 0.2, 0.6, 1)","ease-in-out2":"cubic-bezier(0.3, 0.0, 0.65, 1)","ease-in-out3":"cubic-bezier(0.27, 0.0, 0.6, 1)","ease-in-out4":"cubic-bezier(0.42, 0.0, 0.52, 1)","ease-in-out5":"cubic-bezier(0.12, 0.0, 0.0, 1)","ease-in-out6":"cubic-bezier(0.2, 0.0, 0.2, 1)"},V="search-ui-image-viewer-";"function"==typeof O.addTimeType&&Object.keys(W).forEach(e=>{let t=V+e;O.addTimeType(t,W[e]),U[e]=t});var F={transition:U,duration:{enter:200,leave:260,swipe:380,swipeDownStart:260,swipeDownLeave:260,swipeDownCancel:200,infoExpand:260,infoCollapse:260,zoomIn:320,zoomOut:320,hideTop:200,hideBottom:240,showTop:180,showBottom:300,dragKickBack:480,dragAutoMove:25,pinchKickBack:260,autoMoveKickBack:720,swipeUp:380,swipeUpCancel:200,swipeUpZoomOut:260},delay:{leave:0,swipeDownLeave:0},getEasingName:(e="")=>(0===e.indexOf(V)&&(e=e.slice(V.length)),W[e]?W[e]:/^(ease|linear)/.test(e)?e:"ease")};i("./node_modules/web-animations-js/web-animations.min.js");function Y(e,t,i){const{duration:n=300,ease:s="ease",delay:o=0}=i||{};return S.modifyTransformProperty(t),t.transform&&(t["-webkit-transform"]=t.transform),new Promise(i=>{O.css3(e,t,n,s,o,()=>{i()})})}function Z(e,t,i){const{left:n,top:s,width:o,height:r}=e.getBoundingClientRect(),{left:a,top:l,width:d,height:h}=t;let u=`translate3d(${-(a-n)}px, ${-(l-s)}px, 0) scale(${1/(d/o)}, ${1/(h/r)})`;S.setCss(e,{left:a+"px",top:l+"px",width:d+"px",height:h+"px","transform-origin":"left top",transform:"none"});const c=[{transform:u},{transform:"none"}];return i.easing=F.getEasingName(i.easing),function(e,t,i){const{duration:n=300,easing:s="ease",delay:o=0,fill:r="none"}=i||{};t.forEach(e=>{S.modifyTransformProperty(e)});const a=e.animate(t,{easing:s,duration:n,delay:o,fill:r});return new Promise((e,t)=>{a.onfinish=(()=>{e(a)}),a.oncancel=(()=>{t(a)})})}(e,c,i)}function X(e,t,i,n){const{left:s,top:o,width:r,height:a}=e.getBoundingClientRect(),{left:l,top:d,width:h,height:u}=t;let c=l-s,m=d-o,p=h/r,f=u/a;S.setCss(e,{left:l+"px",top:d+"px",width:h+"px",height:u+"px","transform-origin":"left top",transform:`translate3d(${-c}px, ${-m}px, 0) scale(${1/p}, ${1/f})`}),Y(e,{transform:"none"},n).then(i||S.noop)}function q({innerWidth:e,innerHeight:t,width:i,height:n,isOneScreen:s=!0}){const o={width:0,height:0,left:0,top:0,isLongImage:!1,isSmallImage:!1};if(s){const s=.8;i/n>=e/t&&i>=e*s?(o.width=e,o.height=n*o.width/i,o.left=0,o.top=(t-o.height)/2):i/n<e/t&&n>t*s?(o.height=t,o.width=i*o.height/n,o.left=(e-o.width)/2,o.top=0):(o.width=i,o.height=n,o.left=(e-o.width)/2,o.top=(t-o.height)/2,o.isSmallImage=!0)}else n/i>=2.2?i>e/3?(o.width=e,o.height=n*o.width/i,o.left=0,o.top=0,o.isLongImage=!0):n>t/3?(o.height=t,o.width=i*o.height/n,o.left=(e-o.width)/2,o.top=0):(o.width=i,o.height=n,o.left=(e-o.width)/2,o.top=(t-o.height)/2,o.isSmallImage=!0):i/n>=e/t&&i>e/3?(o.width=e,o.height=n*o.width/i,o.left=0,o.top=(t-o.height)/2):i/n<e/t&&n>t/3?(o.height=t,o.width=i*o.height/n,o.left=(e-o.width)/2,o.top=0):(o.width=i,o.height=n,o.left=(e-o.width)/2,o.top=(t-o.height)/2,o.isSmallImage=!0);return o}class K{constructor(e,t){"object"==typeof e?(this.x=e.clientX,this.y=e.clientY):(this.x=e,this.y=t)}clone(){return new K(this.x,this.y)}getDelta(e){let t=e.x-this.x,i=e.y-this.y;return{x:t,y:i,distance:Math.sqrt(Math.pow(t,2)+Math.pow(i,2))}}getCenter(e){return new K((this.x+e.x)/2,(this.y+e.y)/2)}near(e,t){let i=t||10;return this.getDelta(e).distance<=i}}class J{constructor(e,t){"object"==typeof e&&e.length>=2?(this.point1=new K(e[0]),this.point2=e[1]?new K(e[1]):this.point1.clone()):(this.point1=e,this.point2=t),this.distance=this.point1.getDelta(this.point2).distance}clone(){return new J(this.point1.clone(),this.point2.clone())}getDelta(e){let t=e.point1.getDelta(e.point2).distance,i=1;return 0!==this.distance&&(i=t/this.distance),{zoom:i}}getCenter(){return this.point1.getCenter(this.point2)}}const G={NONE:"none",TAP:"tap",DOUBLE_TAP:"double tap",MOVE:"move",PINCH:"pinch"},Q=300,ee=200,te=300,ie=S.browser.isBaidu;class ne{constructor({type:e=G.NONE,event:t,delta:i,points:n,duration:s,isFinished:o}){this.type=e,this.originalEvent=t,this.delta=i,this.points=n,this.duration=s,this.isFinished=o}cancel(){this.originalEvent&&(this.originalEvent.preventDefault(),this.originalEvent.stopPropagation())}}function se(e){return{type:e,touches:[],targetTouches:[],changedTouches:[],preventDefault:S.noop,stopPropagation:S.noop}}function oe(e,t,i=5){return e<i||e>window.innerWidth-i||t<i||t>window.innerHeight-i}var re={create(e,t){const i=new class{constructor(e,t){this.resetData(),this.lastTouch={type:G.NONE},this.listeners={},Object.keys(G).forEach(e=>{this.listeners[G[e]]=[]}),this.el=e,this.needListenEvent=!0,this.needStopEvent=!1,this.touchstartHanlder=(e=>{this.tryStopEvent(e),this.needListenEvent&&this.onTouchStart(e)}),this.touchmoveHanlder=(e=>{this.tryStopEvent(e),this.needListenEvent&&this.onTouchMove(e)}),this.touchendHanlder=(e=>{this.tryStopEvent(e),this.needListenEvent&&this.onTouchEnd(e)}),this.el.addEventListener("touchstart",this.touchstartHanlder,!1),this.el.addEventListener("touchmove",this.touchmoveHanlder,!1),this.el.addEventListener("touchend",this.touchendHanlder,!1),this.el.addEventListener("touchcancel",this.touchendHanlder,!1)}destroy(){this.resetData(),this.tapTimeout&&(clearTimeout(this.tapTimeout),this.tapTimeout=null),this.lastTouch=null,this.listeners=null,this.el.removeEventListener("touchstart",this.touchstartHanlder,!1),this.el.removeEventListener("touchmove",this.touchmoveHanlder,!1),this.el.removeEventListener("touchend",this.touchendHanlder,!1),this.el.removeEventListener("touchcancel",this.touchendHanlder,!1),this.touchstartHanlder=null,this.touchmoveHanlder=null,this.touchendHanlder=null,this.needListenEvent=!1,this.needStopEvent=!1,this.el=null,this.clearAutoTouchendTimer()}resetData(){this.startTime=0,this.startPoint=null,this.movePoint=null,this.firstDelta=null,this.lastDelta=null,this.isMultiTouch=!1,this.isMultiMove=!1,this.isSingleMove=!1}on(e,t){this.listeners[e]&&this.listeners[e].push(t)}off(e,t){if(e){if(this.listeners[e]&&!t)this.listeners[e]=[];else if(this.listeners[e]){let i=this.listeners[e];for(let e=0,n=i.length;e<n;e++)if(i[e]===t){i[e]=null;break}}}else Object.keys(this.listeners).forEach(e=>{this.listeners[e]=[]})}trigger(e,t){let i=this.listeners[e];i&&i.length&&i.forEach(e=>{"function"==typeof e&&e(t)})}tryStopEvent(e){this.needStopEvent&&(e.preventDefault(),e.stopPropagation())}pause(){this.needListenEvent=!1,this.needStopEvent=!0}resume(){this.needListenEvent=!0,this.needStopEvent=!1}onTouchStart(e){if(this.tapTimeout&&(clearTimeout(this.tapTimeout),this.tapTimeout=null),this.isMoving())return;let t=e.touches;switch(this.startTime=(new Date).getTime(),t.length){case 1:this.startPoint=new K(t[0]),this.movePoint=this.startPoint.clone();break;case 2:this.isMultiTouch=!0,this.startPoint=new J(t),this.movePoint=this.startPoint.clone()}}onTouchMove(e){if(this.startTime<=0)return;let t,i,n=e.touches,s=G.NONE;switch(n.length){case 1:{if(this.isMultiTouch)return;let i=new K(n[0]);t=this.startPoint.getDelta(i),this.firstDelta||(this.firstDelta=this.startPoint.getDelta(i)),this.lastDelta=this.movePoint.getDelta(i),this.movePoint=i,this.isSingleMove=!0,s=G.MOVE,this.trigger(s,new ne({event:e,type:s,delta:Object.assign({},t,{first:this.firstDelta,last:this.lastDelta}),points:{start:this.startPoint,move:this.movePoint}}));break}case 2:if(this.isMoving())return;this.isSingleMove=!1,this.isMultiMove=!0,this.movePoint=new J(n),t=this.startPoint.getDelta(this.movePoint),i=this.startPoint.getCenter(),s=G.PINCH,this.trigger(s,new ne({event:e,type:s,delta:t,points:{center:i}}))}this.updateAutoTouchendTimer()}onTouchEnd(e){if(this.clearAutoTouchendTimer(),this.startTime<=0||e.touches.length>0&&this.isSingleMove)return;let t,i,n=G.NONE;if(0===e.targetTouches.length){let s=(new Date).getTime(),o=s-this.startTime;t=this.startPoint.getDelta(this.movePoint),this.isMultiTouch?this.isMultiMove&&(n=G.PINCH,i=this.startPoint.getCenter()):this.isSingleMove?n=G.MOVE:o<Q&&(n=G.TAP,this.lastTouch.type===G.TAP&&s-this.lastTouch.time<=te&&(n=G.DOUBLE_TAP,i=this.lastTouch.startPoint)),n===G.TAP?this.tapTimeout=setTimeout(()=>{this.tapTimeout=null,this.trigger(n,new ne({event:e,type:n,delta:t,points:{center:i},duration:o,isFinished:!0}))},ee):this.trigger(n,new ne({event:e,type:n,delta:Object.assign({},t,{first:this.firstDelta,last:this.lastDelta}),points:{center:i},duration:o,isFinished:!0})),this.lastTouch={type:n,time:s,duration:o,startPoint:this.startPoint,stopPoint:this.movePoint},this.resetData()}}updateAutoTouchendTimer(){if(ie&&(this.isSingleMove||this.isMultiMove))if(this.clearAutoTouchendTimer(),this.isSingleMove){let{x:e,y:t}=this.movePoint;t<10?this.touchEndTimeout=setTimeout(()=>{this.onTouchEnd(se("touchend"))},80):oe(e,t,10)&&(this.touchEndTimeout=setTimeout(()=>{this.onTouchEnd(se("touchend"))},180))}else if(this.isMultiMove){let{point1:{x:e,y:t},point2:{x:i,y:n}}=this.movePoint;(oe(e,t,20)||oe(i,n,20))&&(this.touchEndTimeout=setTimeout(()=>{this.onTouchEnd(se("touchend"))},180))}}clearAutoTouchendTimer(){ie&&this.touchEndTimeout&&(clearTimeout(this.touchEndTimeout),this.touchEndTimeout=null)}isMoving(){if(this.isSingleMove){let{x:e,y:t}=this.firstDelta,i=this.startPoint.getDelta(this.movePoint);if(Math.abs(e)>Math.abs(t)&&Math.abs(i.x)>20||Math.abs(e)<=Math.abs(t)&&Math.abs(i.y)>10)return!0}return!1}}(e,t);return{on(e,t){i.on(e,t)},off(e,t){i.on(e,t)},pause(){i.pause()},resume(){i.resume()},destroy(){i.destroy()}}},EventType:G};const ae=re.EventType;var le={props:{isReady:{type:Boolean,default:!1},isCurrent:{type:Boolean,default:!1},innerWidth:{type:Number,required:!0},innerHeight:{type:Number,required:!0},target:{type:Object,required:!0},store:{type:Object,default:{}},hasSecondScreen:{type:Boolean,default:!1}},data:()=>({isZoomed:!1,isAnimating:!1,isSwipingHorizonal:!1,isSwipingDown:!1,isSwipingUp:!1,isLongImage:!1,isNearBoundary:!1,maxScale:3,minScale:.5,fixedScale:2,lastScale:1,scale:1,targetBounding:{},targetTransform:{}}),computed:{needCancelMove:function(){return this.isAnimating||!1===this.isNearBoundary&&this.isZoomed}},mounted(){this.helper=re.create(this.$el),this.helper.on(ae.TAP,e=>{this.onTap(e)}),this.helper.on(ae.DOUBLE_TAP,e=>{this.onDoubleTap(e)}),this.helper.on(ae.MOVE,e=>{e.isFinished?this.onMoveEnd(e):this.onMove(e)}),this.helper.on(ae.PINCH,e=>{e.isFinished?this.onPinchEnd(e):this.onPinch(e)})},beforeDestroy(){this.helper.destroy()},watch:{isZoomed(e){this.store.set("zoom.isZoomed",this.isZoomed),this.$emit("zoom-change",e)},isAnimating(e){e?this.helper.pause():this.helper.resume()},isSwipingDown(e){e&&this.$emit("zoom-swipe-down-start")},isCurrent(e){e&&(this.store.set("zoom.isZoomed",this.isZoomed),this.store.set("zoom.needCancelMove",this.needCancelMove),this.updateBoundaryStatus())},target(e){const{left:t,top:i,width:n,height:s}=e.position;this.scale=1,this.lastScale=1,this.isZoomed=!1,this.isLongImage=!!e.isLongImage,n<s?(this.maxScale=6*this.innerWidth/n,this.fixedScale=3.5*this.innerWidth/n):(this.maxScale=3.5*this.innerHeight/s,this.fixedScale=2*this.innerHeight/s),this.targetBounding={left:t,top:i,width:n,height:s,right:t+n,bottom:i+s},this.targetTransform={origin:!1,translate:{x:0,y:0}}},targetBounding(e){this.isCurrent&&this.updateBoundaryStatus()},needCancelMove(e){this.isCurrent&&this.store.set("zoom.needCancelMove",e)}},methods:{onMove(e){if(!this.isZoomed&&!this.isLongImage)return;let{x:t,y:i}=e.delta,{x:n,y:s}=e.delta.first,{left:o,right:r,top:a,bottom:l,width:d,height:h}=this.targetBounding;return(o>-2&&n>0||r<this.innerWidth+2&&n<0)&&this.isHorizonalSwipe(n,s)?(this.isSwipingHorizonal=!0,void(n*t<0&&e.cancel())):this.hasSecondScreen&&l<window.innerHeight+2&&s<0&&this.isVerticalSwipe(n,s)?(e.cancel(),this.$emit("zoom-swipe-up-move",i),void(this.isSwipingUp=!0)):a>-2&&s>0&&(this.isVerticalSwipe(n,s)||this.target.isLongImage&&!this.isZoomed)?(e.cancel(),this.swipeDownTarget(e),void(this.isSwipingDown=!0)):(e.cancel(),Math.abs(d-this.innerWidth)<2&&Math.abs(s)>Math.abs(n)?t=0:Math.abs(h-this.innerHeight)<2&&Math.abs(n)>Math.abs(s)&&(i=0),t>0&&o<1&&o+t>0?t=.3*(o+t)-o:t<0&&r>this.innerWidth-1&&r+t<this.innerWidth&&(t=this.innerWidth-r+.3*(r+t-this.innerWidth)),i>0&&a<1&&a+i>0?i=.3*(a+i)-a:i<0&&l>this.innerHeight-1&&l+i<this.innerHeight&&(i=this.innerHeight-l+.3*(l+i-this.innerHeight)),this.targetTransform.translate={x:t,y:i},void S.setCss(this.target.el,{transform:`translate3d(${t}px, ${i}px, 0)`}))},onMoveEnd(e){if(!this.isZoomed&&!this.isLongImage)return;if(this.isSwipingHorizonal)return void(this.isSwipingHorizonal=!1);if(this.isSwipingUp)return e.cancel(),void(this.isSwipingUp=!1);if(this.isSwipingDown)return e.cancel(),e.delta.y>123||!this.isZoomed&&this.target.isLongImage&&e.delta.y>10?(this.updateTargetStyle(),this.$emit("zoom-swipe-down-end")):(Y(this.target.el,{transform:"none"},{duration:F.duration.swipeDownCancel,ease:F.transition["ease-in-out"]}).then(()=>{this.isAnimating=!1}),this.isAnimating=!0,this.$emit("zoom-swipe-down-cancel")),void(this.isSwipingDown=!1);e.cancel();let{x:t,y:i}=this.targetTransform.translate;this.targetBounding.left+=t,this.targetBounding.right+=t,this.targetBounding.top+=i,this.targetBounding.bottom+=i,this.autoKickBack({duration:F.duration.dragKickBack})||this.adjustTargetPosition(!0)||(S.animationDowngrade?this.updateTargetStyle():this.autoMove(e))},onTap(e){e.cancel(),this.$emit("zoom-tap")},onDoubleTap(e){if(e.cancel(),this.isReady){if(1!==this.lastScale)X(this.target.el,this.target.position,()=>{this.recoverTargetStyle(),this.$nextTick(()=>{this.isAnimating=!1})},{duration:F.duration.zoomOut,ease:F.transition["ease-in-out2"]}),this.isAnimating=!0,this.scale=1;else{let t=2.5,i=e.points.center;const{left:n,top:s,width:o,height:r}=this.targetBounding;2*o<=this.innerWidth?(t=this.innerWidth/o,i={x:this.innerWidth/2,y:i.y}):2*r<=this.innerHeight&&(t=this.innerHeight/r,i={x:i.x,y:this.innerHeight/2});let{x:a,y:l}=i;l=100*(l-s)/r,((a=100*(a-n)/o)<0||a>100||l<0||l>100||this.target.isSmallImage)&&(a=50,l=50),S.setCss(this.target.el,{"transform-origin":`${a}% ${l}%`}),Y(this.target.el,{transform:`scale3d(${t}, ${t}, 1)`},{duration:F.duration.zoomIn,ease:F.transition["ease-in-out2"]}).then(()=>{this.updateTargetStyle(),this.$nextTick(()=>{this.isAnimating=!1})}),this.isAnimating=!0,this.scale=t}this.lastScale=this.scale,this.isZoomed=1!==this.scale}},onPinch(e){if(e.cancel(),!this.isReady)return;let{x:t,y:i}=e.points.center,{left:n,top:s,width:o,height:r}=this.targetBounding,a=e.delta.zoom*this.lastScale,l=this.fixedScale;a>l&&S.animationDowngrade?a=l:a>l?a=l+l/this.lastScale*.1*(a-l):a<1&&(a=1-.56*(1-a/1)),this.scale=Math.max(this.minScale,Math.min(this.maxScale,a)),t=100*(t-n)/o,i=100*(i-s)/r;let d={transform:`scale3d(${a=this.scale/this.lastScale}, ${a}, 1)`};this.targetTransform.origin||(this.targetTransform.origin=!0,d["transform-origin"]=`${t}% ${i}%`),S.setCss(this.target.el,d),this.isZoomed=!0},onPinchEnd(e){if(!this.isReady)return;let t=!1,i=!1;if(this.scale<=1?(this.scale=1,t=!0,i=!0):this.scale>this.fixedScale&&(this.scale=this.fixedScale,i=!0),i){if(t)this.updateTargetStyle(),this.$nextTick(()=>{X(this.target.el,this.target.position,()=>{this.recoverTargetStyle(),this.$nextTick(()=>{this.isAnimating=!1})},{ease:F.transition["ease-in-out2"],duration:F.duration.pinchKickBack})});else{let e=this.scale/this.lastScale;Y(this.target.el,{transform:`scale3d(${e}, ${e}, 1)`},{duration:F.duration.pinchKickBack,ease:F.transition["ease-in-out2"]}).then(()=>{this.updateTargetStyle(),this.$nextTick(()=>{this.isAnimating=!1})})}this.isAnimating=!0}else this.updateTargetStyle(),this.adjustTargetPosition();this.lastScale=this.scale,this.isZoomed=1!==this.scale},isHorizonalSwipe:(e,t)=>Math.abs(t)<=.364*Math.abs(e),isVerticalSwipe:(e,t)=>Math.abs(e)<=.364*Math.abs(t),autoKickBack({duration:e=100,delta:t=null}){const{left:i,right:n,top:s,bottom:o,width:r,height:a}=this.targetBounding;let l=0,d=0,h=0,u=0,c=!1,m=!1,p=!1;if(r+1>=this.innerWidth&&(i>1?(this.targetTransform.translate.x+=-i,c=!0,m=!0,h=i):n+1<this.innerWidth&&(this.targetTransform.translate.x+=this.innerWidth-n,c=!0,m=!0,h=this.innerWidth-n),a+1<this.innerHeight&&(d=this.innerHeight/2-(s+a/2))),a+1>=this.innerHeight&&(o+1<this.innerHeight?(this.targetTransform.translate.y+=this.innerHeight-o,c=!0,p=!0,u=this.innerHeight-o):s>1&&(this.targetTransform.translate.y+=-s,c=!0,p=!0,u=s),r+1<this.innerWidth&&(l=this.innerWidth/2-(i+r/2))),c){Math.abs(l)+Math.abs(d)>0&&(this.targetTransform.translate.x+=l,this.targetTransform.translate.y+=d),t&&this.adjustKickBack({delta:t,needKickBackForX:m,needKickBackForY:p}),"function"==typeof e&&(e=e.call(this,h,u));let{x:i,y:n}=this.targetTransform.translate;Y(this.target.el,{transform:`translate3d(${i}px, ${n}px, 0)`},{duration:e,ease:F.transition["ease-in-out5"]}).then(()=>{this.updateTargetStyle(),this.$nextTick(()=>{this.isAnimating=!1})}),this.isAnimating=!0}return c},adjustKickBack({delta:e,needKickBackForX:t,needKickBackForY:i}){const{left:n,right:s,top:o,bottom:r}=this.targetBounding;let{deltaX:a,deltaY:l}=e;!t&&Math.abs(a)>1&&(a>0&&n+a>0?a=Math.max(0,-n):a<0&&s+a<this.innerWidth&&(a=Math.min(0,this.innerWidth-s)),this.targetTransform.translate.x+=a),!i&&Math.abs(l)>1&&(l>0&&o+l>0?l=Math.max(0,-o):l<0&&r+l<this.innerHeight&&(l=Math.min(0,this.innerHeight-r)),this.targetTransform.translate.y+=l)},adjustTargetPosition(e){let{left:t,right:i,top:n,bottom:s,width:o,height:r}=this.targetBounding,a=0,l=0,d=!1;return r+2<this.innerHeight&&o+2<this.innerWidth?(l=this.innerHeight/2-(n+r/2),a=this.innerWidth/2-(t+o/2)):r+2<this.innerHeight?(l=this.innerHeight/2-(n+r/2),t>1?a=-t:i+1<this.innerWidth&&(a=this.innerWidth-i)):o+2<this.innerWidth?(a=this.innerWidth/2-(t+o/2),n>1?l=-n:s+1<this.innerHeight&&(l=this.innerHeight-s)):(t>1?a=-t:i+1<this.innerWidth&&(a=this.innerWidth-i),n>1?l=-n:s+1<this.innerHeight&&(l=this.innerHeight-s)),Math.abs(a)+Math.abs(l)>2&&(d=!0),d&&(this.targetBounding.left=t+a,this.targetBounding.right=i+a,this.targetBounding.top=n+l,this.targetBounding.bottom=s+l,e&&this.updateTargetStyle(),this.$nextTick(()=>{Y(this.target.el,{transform:`translate3d(${a}px, ${l}px, 0)`},{duration:F.duration.dragKickBack,ease:F.transition["ease-in-out5"]}).then(()=>{this.updateTargetStyle(),this.$nextTick(()=>{this.isAnimating=!1})})}),this.isAnimating=!0),d},autoMove(e){let{x:t,y:i}=this.targetTransform.translate,{x:n,y:s}=e.delta.first,{x:o,y:r,distance:a}=e.delta.last,{width:l,height:d}=this.targetBounding;Math.abs(l-this.innerWidth)<2&&Math.abs(s)>Math.abs(n)?(o=0,a=Math.abs(r)):Math.abs(d-this.innerHeight)<2&&Math.abs(n)>Math.abs(s)&&(r=0,a=Math.abs(o));let h=Math.min(1e3,F.duration.dragAutoMove*a),u=h/64,c=o*u,m=r*u;const p=this.adjustAutoMoveWithBoundary({boundaryDistance:33,timeRatio:64,moveX:c,moveY:m,lastX:o,lastY:r});let f=0,g=0;p.isUpdated&&(f=c-p.moveX,g=m-p.moveY,h=p.duration,c=p.moveX,m=p.moveY);Math.abs(f)>99&&(f=f>0?99:-99),Math.abs(g)>99&&(g=g>0?99:-99),this.targetBounding.left+=c,this.targetBounding.right+=c,this.targetBounding.top+=m,this.targetBounding.bottom+=m,t+=c,i+=m,this.targetTransform.translate={x:t,y:i},Y(this.target.el,{transform:`translate3d(${t}px, ${i}px, 0)`},{duration:h,ease:F.transition["ease-out2"]}).then(()=>{this.autoKickBack({duration:(e=0,t=0)=>(e=Math.max(e,t),F.duration.autoMoveKickBack-100*e/33),delta:{deltaX:f,deltaY:g}})||(this.updateTargetStyle(),this.$nextTick(()=>{this.isAnimating=!1}))}),this.isAnimating=!0},adjustAutoMoveWithBoundary({moveX:e,moveY:t,lastX:i,lastY:n,boundaryDistance:s,timeRatio:o}){const{left:r,right:a,top:l,bottom:d}=this.targetBounding;let h=0,u=0;e>0&&r+e>s?h=(e=s-r)/i:e<0&&a+e<this.innerWidth-s&&(h=(e=this.innerWidth-s-a)/i),t>0&&l+t>s?u=(t=s-l)/n:t<0&&d+t<this.innerHeight-s&&(u=(t=this.innerHeight-s-d)/n);const c={isUpdated:!1,duration:0,moveX:0,moveY:0};if(h||u){let e=0;e=h&&u?Math.min(h,u):h||u,c.duration=Math.round(o*e),c.moveX=i*e,c.moveY=n*e,c.isUpdated=!0}return c},swipeDownTarget(e){let{x:t,y:i}=e.points.start,{x:n,y:s}=e.points.move,o=e.delta.y,r=1;if(o>0){let e=o,t=2;this.isLongImage&&1===this.scale&&(t=.3),r=Math.min(this.scale,Math.max(t,this.scale-e*(this.scale-t)/418)),r/=this.scale}let a=n-this.targetBounding.left-r*(t-this.targetBounding.left),l=s-this.targetBounding.top-r*(i-this.targetBounding.top);S.setCss(this.target.el,{transform:`translate3d(${a}px, ${l}px, 0) scale(${r}, ${r})`}),this.$emit("zoom-swipe-down-move",{y:o})},updateTargetStyle(){let{left:e,top:t,width:i,height:n,right:s,bottom:o}=this.target.el.getBoundingClientRect(),r={left:e+"px",top:t+"px",width:i+"px",height:n+"px"};S.setCss(this.target.el,Object.assign({},r,{transform:"","transform-origin":""})),this.targetBounding={left:e,top:t,width:i,height:n,right:s,bottom:o},this.targetTransform.origin=!1,this.targetTransform.translate={x:0,y:0},this.$emit("zoom-target-update",{props:r})},recoverTargetStyle(){let{left:e,top:t,width:i,height:n}=this.target.position,s={left:e+"px",top:t+"px",width:i+"px",height:n+"px"};S.setCss(this.target.el,{transform:"","transform-origin":""}),this.targetBounding={left:e,top:t,width:i,height:n,right:e+i,bottom:t+n},this.$emit("zoom-target-update",{props:s})},updateBoundaryStatus(){if(this.isZoomed){let e=this.targetBounding.left>-2,t=this.targetBounding.right<this.innerWidth+2,i=this.targetBounding.bottom<this.innerHeight+2;this.store.set("zoom.nearLeftBoundary",e),this.store.set("zoom.nearRightBoundary",t),this.store.set("zoom.nearBottomBoundary",i),this.isNearBoundary=e||t||i}else this.store.set("zoom.nearLeftBoundary",!0),this.store.set("zoom.nearRightBoundary",!0),this.store.set("zoom.nearBottomBoundary",!0),this.isNearBoundary=!0}}};i("./src/components/ImageViewerZoom.vue?vue&type=style&index=0&id=3b907e08&lang=stylus&scoped=true&");function de(e,t,i,n,s,o,r,a){var l,d="function"==typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=i,d._compiled=!0),n&&(d.functional=!0),o&&(d._scopeId="data-v-"+o),r?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},d._ssrRegister=l):s&&(l=a?function(){s.call(this,this.$root.$options.shadowRoot)}:s),l)if(d.functional){d._injectStyles=l;var h=d.render;d.render=function(e,t){return l.call(t),h(e,t)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:d}}var he=de(le,function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"image-viewer-zoom"},[this._t("default")],2)},[],!1,null,"3b907e08",null);he.options.__file="ImageViewerZoom.vue";var ue=he.exports,ce={props:{text:{type:String,default:"加载中..."}}},me=(i("./src/components/ImageViewerLoading.vue?vue&type=style&index=0&id=c8a9df7a&lang=stylus&scoped=true&"),de(ce,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"loading-wrapper"},[t("div",{staticClass:"loading-icon-wrapper"},[this._m(0),this._v(" "),t("p",{staticClass:"loading-icon-text"},[this._v(this._s(this.text))])])])},[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"loading-icon-wrapper2"},[t("div",{staticClass:"loading-icon-before"})])}],!1,null,"c8a9df7a",null));me.options.__file="ImageViewerLoading.vue";var pe={components:{ImageViewerLoading:me.exports},props:{isCurrent:{type:Boolean,required:!0},item:{type:Object,required:!0},innerWidth:{type:Number,required:!0},innerHeight:{type:Number,required:!0},posY:{type:Object,default:{}},enterPosition:{type:Object,default:{}},leavePosition:{type:Object,default:{}},isLeaving:{type:Boolean,default:!1},isSwipingDown:{type:Boolean,default:!1},isZoomed:{type:Boolean,default:!1},swipeUpHeight:{type:Number,default:0},swipeUpY:{type:Number,default:0},hasSecondScreen:{type:Boolean,default:!1},isSecondScreenShow:{type:Boolean,default:!1}},data(){return{isLoading:!this.isCurrent,isError:!1,isLongImage:!1,isSmallImage:!1,imgPosition:{},imgStyle:{},animationEnd:!(this.isCurrent&&this.enterPosition.width>0)}},computed:{imgSrc:function(){return this.item.src},isReady:function(){return!this.isLoading&&!this.isError}},beforeMount(){this.isCurrent&&this.animationEnd&&this.$emit("enter-start")},mounted(){this.resetImgPosition(),this.isCurrent&&this.animationEnd&&this.$emit("enter-end")},watch:{item(e){this.isLoading=!0,this.isError=!1,this.resetImgPosition()},innerHeight(e){this.resetImgPosition()},imgPosition(e){this.imgStyle=this.getImgStyle(),this.emitPositionChangeEvent()},posY(e){this.isCurrent&&this.isSwipingDown&&this.swipeDown()},isSwipingDown(e){if(e)this.$emit("img-ready",!1);else{if(this.$emit("recover-start"),!this.isReady)return this.$refs.loading.style.opacity=1,void(this.$refs.error.style.opacity=1);Y(this.$refs.img,{transform:"none"},{duration:F.duration.swipeDownCancel,ease:F.transition["ease-out"]}).then(()=>{this.$emit("recover-end"),this.$emit("img-ready",this.isReady)})}},isReady(e){this.$emit("img-ready",e)},isCurrent(e){e||this.isZoomed||S.setCss(this.$refs.img,{top:this.imgPosition.top+"px",bottom:""})},swipeUpY(e){this.isCurrent&&(0===e?this.isZoomed||S.setCss(this.$refs.img,{top:this.imgPosition.top+"px",bottom:""}):S.setCss(this.$refs.img,{top:"",bottom:Math.max(0,this.imgPosition.top+e)+"px"}))},isSecondScreenShow(e){if(this.isCurrent){const t={ease:F.transition["ease-in-out6"],duration:F.duration.swipeUp},i=Object.assign({},this.imgPosition);if(e)if(this.isZoomed){S.setCss(this.$refs.img,{position:"fixed",bottom:"",top:this.$refs.img.getBoundingClientRect().top+"px"});const e=Object.assign({},this.imgPosition);this.imgPosition.height>this.swipeUpHeight?e.top=this.swipeUpHeight-this.imgPosition.height:e.top=(this.swipeUpHeight-this.imgPosition.height)/2,X(this.$refs.img,e,()=>{S.setCss(this.$refs.img,{position:"",top:"",bottom:Math.max(0,(this.swipeUpHeight-this.imgPosition.height)/2)+"px"}),this.emitPositionChangeEvent()},t)}else Y(this.$refs.img,{bottom:Math.max(0,(this.swipeUpHeight-this.imgPosition.height)/2)+"px"},t).then(()=>{this.emitPositionChangeEvent()});else 0!==this.swipeUpY&&(S.setCss(this.$refs.img,{position:"fixed",bottom:"",top:this.$refs.img.getBoundingClientRect().top+"px"}),X(this.$refs.img,i,()=>{S.setCss(this.$refs.img,{position:""}),this.emitPositionChangeEvent()},t))}}},methods:{resetImgPosition(){if(this.item.width&&this.item.height)this.updateImgPosition();else{let e=this.item;S.loadImg(e).then(t=>{e===this.item&&t&&(e.width=t.naturalWidth,e.height=t.naturalHeight,this.updateImgPosition())})}},updateImgPosition(){let e=q({innerWidth:this.innerWidth,innerHeight:this.innerHeight,width:this.item.width,height:this.item.height,isOneScreen:this.hasSecondScreen});this.imgPosition={width:e.width,height:e.height,left:e.left,top:e.top},this.isLongImage=e.isLongImage,this.isSmallImage=e.isSmallImage},getImgStyle(){let e={};return Object.keys(this.imgPosition).forEach(t=>{e[t]=this.imgPosition[t]+"px"}),e},emitPositionChangeEvent(){this.$emit("position-change",{el:this.$refs.img,position:this.imgPosition,isLongImage:this.isLongImage,isSmallImage:this.isSmallImage})},beforeEnter(e){if(this.isCurrent)if(this.enterPosition.width){const{left:t,top:i,width:n,height:s}=this.enterPosition;e.style.left=t+"px",e.style.top=i+"px",e.style.width=n+"px",e.style.height=s+"px",S.animationDowngrade||(e.style.position="fixed")}else e.style.opacity=0},enter(e,t){if(this.isCurrent){if(this.enterPosition.width){if(!this.item.width||!this.item.height){let e=this.enterPosition.width,t=this.enterPosition.height;e/t>=this.innerWidth/this.innerHeight?(t=this.innerWidth*t/e,e=this.innerWidth):(e=this.innerHeight*e/t,t=this.innerHeight),this.item.width=e,this.item.height=t}let i={innerWidth:this.innerWidth,innerHeight:this.innerHeight,width:this.item.width,height:this.item.height,isOneScreen:this.hasSecondScreen};const{left:n,top:s,width:o,height:r}=q(i);Z(e,{left:n,top:s,width:o,height:r},{easing:"ease-in-out",duration:F.duration.enter}).then(()=>{t()})}else Y(e,{opacity:1},{duration:F.duration.enter,ease:"linear"}).then(()=>{t()});this.$emit("enter-start")}else t()},afterEnter(e){this.isCurrent&&(this.animationEnd=!0,this.$emit("enter-end"))},beforeLeave(e){if(!this.isCurrent)return;const{left:t,top:i,width:n,height:s}=e.getBoundingClientRect();this.$emit("leave-start"),this.leavePosition.width&&this.isReady&&S.setCss(e,{position:"fixed",left:t+"px",top:i+"px",width:n+"px",height:s+"px",transform:"none"})},leave(e,t){if(this.isCurrent)if(this.leavePosition.width&&this.isReady){const{left:i,top:n,width:s,height:o}=this.leavePosition;Z(e,{left:i,top:n,width:s,height:o},{duration:F.duration.leave,easing:"ease-in-out"}).then(()=>{t()})}else this.isReady?Y(e,{opacity:0},{duration:F.duration.leave,ease:"linear"}).then(()=>{t()}):t();else t()},afterLeave(e){this.isCurrent&&this.$emit("leave-end")},swipeDown(){if(!this.isReady)return this.$refs.error.style.opacity=0,void(this.$refs.loading.style.opacity=0);const{deltaY:e,startX:t,startY:i,endX:n,endY:s}=this.posY;let o=1;if(e>0){let t=e;o=Math.max(.3,1-.7*t/418)}let r=n-this.imgPosition.left-o*(t-this.imgPosition.left),a=s-this.imgPosition.top-o*(i-this.imgPosition.top);S.setCss(this.$refs.img,{transform:`translate3d(${r}px, ${a}px, 0) scale(${o}, ${o})`})},onLoadError(e){this.imgSrc===e&&(this.isError=!0,this.isLoading=!1)},onLoadSuccess(e){this.imgSrc===e&&(this.isError=!1,this.isLoading=!1)},updateStyle({props:e}){e&&(this.imgStyle=Object.assign({},this.imgStyle,e))}}},fe=(i("./src/components/ImageViewerImg.vue?vue&type=style&index=0&id=290c9675&lang=stylus&scoped=true&"),de(pe,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"image-viewer-img-wrapper"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoading&&!e.isSecondScreenShow,expression:"isLoading && !isSecondScreenShow"}],ref:"loading",staticClass:"image-viewer-img-loading",style:{width:e.innerWidth+"px",height:e.innerHeight+"px"}},[i("image-viewer-loading",{staticClass:"image-viewer-img-loading-content",attrs:{type:"2","text-logo-style":"dark"}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isError&&!e.isSecondScreenShow,expression:"isError && !isSecondScreenShow"}],ref:"error",staticClass:"image-viewer-img-error",style:{width:e.innerWidth+"px",height:e.innerHeight+"px"}},[i("div",{staticClass:"image-viewer-img-error-content"},[i("div",{staticClass:"image-viewer-img-error-icon"},[i("svg",{attrs:{viewBox:"0 0 235 180",xmlns:"http://www.w3.org/2000/svg"}},[i("g",{attrs:{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd",opacity:"0.2"}},[i("g",{attrs:{transform:"translate(-504.000000, -966.000000)",fill:"#DCDCDC"}},[i("g",{attrs:{transform:"translate(383.000000, 966.000000)"}},[i("g",{attrs:{transform:"translate(121.000000, 0.000000)"}},[i("path",{attrs:{id:"Fill-1",d:"M184.235319,73.9520958 C196.521,73.9520958 206.480583,\n                                        64.0191605 206.480583,51.7665844 C206.480583,39.5140083 196.521,\n                                        29.5808383 184.235319,29.5808383 C171.949873,29.5808383 161.990291,\n                                        39.5140083 161.990291,51.7665844 C161.990291,64.0191605 171.949873,\n                                        73.9520958 184.235319,73.9520958 L184.235319,73.9520958 Z M0,14.5937428 C0,\n                                        6.53311318 6.5142981,0 14.7312313,0 L51.4065268,0 L40.3907925,\n                                        47.500288 L88.1254079,76.7311453 L66.0939394,113.269775 L117.500466,\n                                        147.115249 L88.1254079,113.269775 L121.171445,73.0772592 L80.781585,\n                                        36.5386296 L106.484732,0 L220.261543,0 C228.391072,0 235,6.54030313 235,\n                                        14.5937428 L235,165.40625 C235,173.466879 228.463793,179.999992 220.297903,\n                                        179.999992 L14.7020965,179.999992 C6.59354463,180.00811 0.01188698,\n                                        173.475925 0,165.40625 L0,14.5937428 Z"}})])])])])])]),e._v(" "),i("p",[e._v("图片找不到啦~")])])]),e._v(" "),i("transition",{attrs:{css:!1,appear:"",mode:"in-out"},on:{"before-leave":e.beforeLeave,leave:e.leave,"after-leave":e.afterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.animationEnd&&!e.isLeaving,expression:"animationEnd && !isLeaving"}],ref:"img",staticClass:"image-viewer-img",class:{hidden:!e.isReady},style:e.imgStyle},[e.imgSrc?i("img",{attrs:{src:e.imgSrc},on:{error:function(t){e.onLoadError(e.imgSrc)},load:function(t){e.onLoadSuccess(e.imgSrc)}}}):e._e()])]),e._v(" "),i("transition",{attrs:{css:!1,appear:"",mode:"in-out"},on:{"before-enter":e.beforeEnter,enter:e.enter,"after-enter":e.afterEnter}},[e.animationEnd?e._e():i("div",{staticClass:"image-viewer-img"},[e.imgSrc?i("img",{attrs:{src:e.imgSrc}}):e._e()])])],1)},[],!1,null,"290c9675",null));fe.options.__file="ImageViewerImg.vue";var ge={components:{ImageViewerZoom:ue,ImageViewerImg:fe.exports},props:{isCurrent:{type:Boolean,required:!0},obj:{type:Object,required:!0},innerWidth:{type:Number,required:!0},innerHeight:{type:Number,required:!0},posY:{type:Object,default:{}},enterPosition:{type:Object,default:{}},leavePosition:{type:Object,default:{}},isLeaving:{type:Boolean,default:!1},isSwipingDown:{type:Boolean,default:!1},store:{type:Object,default:{}},swipeUpHeight:{type:Number,default:0},swipeUpY:{type:Number,default:0},hasSecondScreen:{type:Boolean,default:!1},isSecondScreenShow:{type:Boolean,default:!1}},data(){return{isReady:this.isCurrent,isShowAnchor:!0,isZoomed:!1,zoomTarget:{},zoomHeight:0,isSecondScreenFixed:!1}},computed:{isTargetReady:function(){return this.isReady&&!this.isSecondScreenShow},isGreyBgShow:function(){return this.isSecondScreenFixed&&!this.isLeaving&&this.isCurrent}},mounted(){this.zoomHeight=this.innerHeight},watch:{isSwipingDown(e){e&&this.showAnchor(!1)},isCurrent(e){e||this.zoomHeight===this.innerHeight||(this.showAnchor(!0),this.zoomHeight=this.innerHeight,S.setCss(this.$refs.zoom.$el,{height:""}),this.$emit("swipe-up-down"))},swipeUpY(e){this.isCurrent&&(0===e?(this.showAnchor(!0),this.zoomHeight=this.innerHeight,S.setCss(this.$refs.zoom.$el,{height:""})):(this.showAnchor(!1),this.zoomHeight=this.innerHeight+2*e,S.setCss(this.$refs.zoom.$el,{height:this.zoomHeight+"px"})))},isSecondScreenShow(e){this.isCurrent&&(e?(this.zoomHeight=this.swipeUpHeight,Y(this.$refs.zoom.$el,{height:this.zoomHeight+"px"},{ease:F.transition["ease-in-out6"],duration:F.duration.swipeUp}).then(()=>{this.isSecondScreenFixed=!0,this.$emit("swipe-up-end")})):0!==this.swipeUpY&&(this.zoomHeight=this.innerHeight,Y(this.$refs.zoom.$el,{height:this.zoomHeight+"px"},{ease:F.transition["ease-in-out6"],duration:F.duration.swipeUp}).then(()=>{S.setCss(this.$refs.zoom.$el,{height:""}),this.$emit("swipe-up-down")}))),e||(this.isSecondScreenFixed=!1)}},methods:{onEnterStart(e){this.$emit("enter-start",e),this.enterPosition.width&&this.$nextTick(()=>{this.showAnchor(!1)})},onEnterEnd(e){this.$emit("enter-end",e),this.showAnchor(!0)},onLeaveStart(e){this.$emit("leave-start",e),this.showAnchor(!1)},onLeaveEnd(e){this.$emit("leave-end",e)},onRecoverEnd(){this.showAnchor(!0)},onImgReady(e){this.isReady=e},onImgPositionChange(e){e.el&&e.position&&(this.zoomTarget=e)},onZoomTap(){this.$emit("zoom-tap")},onZoomChange(e){this.isZoomed=e},onZoomSwipeDownStart(){this.$emit("zoom-swipe-down-start")},onZoomSwipeDownMove(e){this.$emit("zoom-swipe-down-move",e)},onZoomSwipeDownEnd(){this.$emit("zoom-swipe-down-end")},onZoomSwipeDownCancel(){this.$emit("zoom-swipe-down-cancel")},onZoomTargetUpdate(e){this.$refs.img.updateStyle(e)},onZoomSwipeUpMove(e){e<-10&&this.$emit("zoom-swipe-up-end")},showAnchor(e){this.isShowAnchor=e}}},ve=(i("./src/components/ImageViewerItem.vue?vue&type=style&index=0&id=283ea35f&lang=stylus&scoped=true&"),de(ge,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"image-viewer-item",class:{"grey-bg":e.isGreyBgShow}},[i("image-viewer-zoom",{ref:"zoom",attrs:{store:e.store,"is-ready":e.isTargetReady,"is-current":e.isCurrent,"inner-width":e.innerWidth,"inner-height":e.innerHeight,target:e.zoomTarget,"has-second-screen":e.hasSecondScreen},on:{"zoom-tap":e.onZoomTap,"zoom-change":e.onZoomChange,"zoom-target-update":e.onZoomTargetUpdate,"zoom-swipe-down-start":e.onZoomSwipeDownStart,"zoom-swipe-down-move":e.onZoomSwipeDownMove,"zoom-swipe-down-end":e.onZoomSwipeDownEnd,"zoom-swipe-down-cancel":e.onZoomSwipeDownCancel,"zoom-swipe-up-move":e.onZoomSwipeUpMove}},[e.obj.isSet?i("image-viewer-img",{ref:"img",class:{"black-bg":e.isGreyBgShow},attrs:{item:e.obj.item,"is-current":e.isCurrent,"is-leaving":e.isLeaving,"is-swiping-down":e.isSwipingDown,"inner-width":e.innerWidth,"inner-height":e.innerHeight,"pos-y":e.posY,"enter-position":e.enterPosition,"leave-position":e.leavePosition,"is-zoomed":e.isZoomed,"swipe-up-height":e.swipeUpHeight,"swipe-up-y":e.swipeUpY,"has-second-screen":e.hasSecondScreen,"is-second-screen-show":e.isSecondScreenShow},on:{"enter-start":e.onEnterStart,"enter-end":e.onEnterEnd,"leave-start":e.onLeaveStart,"leave-end":e.onLeaveEnd,"recover-end":e.onRecoverEnd,"img-ready":e.onImgReady,"position-change":e.onImgPositionChange}}):e._e()],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isCurrent&&e.swipeUpY<0&&!e.isLeaving,expression:"isCurrent && swipeUpY < 0 && !isLeaving"}],staticClass:"image-viewer-item-second-screen",style:{"min-height":e.innerHeight-138+"px"}},[e._t("secondScreen")],2),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowAnchor&&!e.isZoomed,expression:"isShowAnchor && !isZoomed"}],ref:"animateWrapper",staticClass:"image-viewer-item-animate-wrapper"},[e._t("anchor")],2)],1)},[],!1,null,"283ea35f",null));ve.options.__file="ImageViewerItem.vue";var we=ve.exports;const ye=S.browser.isBaidu;var be={components:{ImageViewerItem:we},props:{state:{type:Object,default:{}},innerWidth:{type:Number,required:!0},innerHeight:{type:Number,required:!0},enterPosition:{type:Object,default:{}},leavePosition:{type:Object,default:{}},isLeaving:{type:Boolean,default:!1},store:{type:Object,default:{}},swipeUpHeight:{type:Number,default:0},easySwipe:{type:Boolean,default:!1},swipeDuration:{type:Number,default:0}},data:()=>({startT:0,startX:0,startY:0,moveX:0,moveY:0,dir:0,posY:{},isMoving:!1,isAnimating:!1,isSwipingX:null,isSwipingY:null,isSwipingUp:!1,isSwipingDown:!1,isSwipeFirst:!1,isSwipeLast:!1,isMultiTouch:!1,classNames:{item1:"image-viewer-item-prev",item2:"image-viewer-item-current",item3:"image-viewer-item-next"},swipeUpY:0,isSecondScreenShow:!1,scrollTop:0,maxScrollTop:0,contentTransform:"none"}),computed:{maxSwipeDistance:function(){return this.innerWidth/3},hasSecondScreen:function(){return!!this.$slots.secondScreen}},watch:{isSwipingDown(e){e&&this.emitSwipeDownStartEvent()},isSecondScreenShow(e){e&&this.$emit("swipe-up-end")},innerHeight(e){this.isSecondScreenShow&&this.$nextTick(()=>{this.getItemElement("current").firstChild.scrollTop=0,this.swipeUpY=(this.swipeUpHeight-this.innerHeight)/2})}},methods:{resetPosition(){this.dir=0,this.doSwitchAnimation()},showSecondScreen(){return!(!this.hasSecondScreen||this.isSecondScreenShow)&&(this.isSecondScreenShow=!0,this.swipeUpY=-10,!0)},onTouchStart(e,t){if(e.stopPropagation(),this.isMoving)return void e.preventDefault();this.isSwipingX=null,this.isSwipingY=null,this.isMultiTouch=e.touches.length>=2;let i=e.touches[0];this.startX=i.clientX,this.startY=i.clientY,this.startT=(new Date).getTime();let n=this.getItemElement("current").firstChild;this.scrollTop=n.scrollTop,this.maxScrollTop=n.scrollHeight-n.clientHeight},onTouchMove(e,t){if(e.stopPropagation(),this.isAnimating||this.isMultiTouch)return void e.preventDefault();let i=e.touches[0],n=i.clientX-this.startX,s=i.clientY-this.startY;if(null===this.isSwipingX&&(this.isSwipingX=Math.abs(n)>=Math.abs(s)),t||this.checkZoomStatus(n,s))if(null===this.isSwipingY&&(this.isSwipingY=!this.isSwipingX,this.isSwipingUp=this.isSwipingY&&s<0,this.isSecondScreenShow?this.isSwipingUpDown=this.isSwipingY&&s>0:this.isSwipingDown=this.isSwipingY&&s>0),this.isSwipingUp&&this.isSecondScreenShow&&this.scrollTop&&this.scrollTop+1>=this.maxScrollTop)e.preventDefault();else if(this.updateAutoTouchendTimeout(i),ye&&this.isSwipingDown&&(this.startY<0||this.startY>this.innerHeight))e.preventDefault();else{if(this.isSwipingX){n=this.startX<20||this.startX>window.innerWidth-10?0:this.swipingX(n),e.preventDefault()}else this.isSwipingUp?(0===this.maxScrollTop&&e.preventDefault(),this.swipingUp(s,e)):this.isSwipingUpDown&&0===this.scrollTop?(this.swipingToFirstScreen(s),e.cancelable&&e.preventDefault()):this.isSwipingDown&&(this.swipingDown(n,s,i),e.preventDefault());this.moveX=n,this.moveY=s,this.isMoving=!0}else e.preventDefault()},onTouchEnd(e,t){e.stopPropagation(),this.isAnimating||e.touches.length>0?e.preventDefault():(this.clearAutoTouchendTimeout(),ye&&this.isSwipingDown&&(this.startY<0||this.startY>this.innerHeight)?e.preventDefault():(this.isSwipingX?(this.isAnimating=!0,this.animateAfterSwipeX()):this.isSwipingUp?(this.isAnimating=!0,this.animateAfterSwipeUp()):this.isSwipingUpDown&&0===this.scrollTop?(this.isAnimating=!0,this.animateToFirstScreen()):this.isSwipingDown?(this.isAnimating=!0,this.animateAfterSwipeDown()):this.resetMoveData(),this.isMoving=!1))},resetMoveData(){this.moveX=0,this.moveY=0,this.dir=0,this.isSwipeFirst=!1,this.isSwipeLast=!1,this.posY={},this.isSwipingUp=!1,this.isSwipingUpDown=!1,this.isSwipingDown=!1},swipingX(e){let t=this.getData("prev"),i=this.getData("next");!(e>0)||t&&t.isSet?!(e<0)||i&&i.isSet||(-e>=30&&(this.isSwipeLast=!0,this.emitSwipeLastEvent()),e=-Math.min(this.maxSwipeDistance,.3*-e)):(e>30&&(this.isSwipeFirst=!0),e=Math.min(this.maxSwipeDistance,.3*e)),e<0?this.dir=1:e>0&&(this.dir=-1),e>0&&this.emitHideToastEvent();let n={transform:`translate3d(${e}px, 0, 0)`};return S.modifyTransformProperty(n),this.contentTransform=n.transform,e},animateAfterSwipeX(){if(this.isSwipeFirst)return void this.emitSwipeFirstEvent();let e=(new Date).getTime()-this.startT,t=Math.abs(this.moveX);this.isSwipeLast?this.dir=0:(e<=380||this.easySwipe)&&t>30?this.moveX>0?this.dir=-1:this.dir=1:e>380&&t>(this.innerWidth+20)/2?this.moveX>0?this.dir=-1:this.dir=1:this.dir=0,this.doSwitchAnimation()},doSwitchAnimation(){let e=-this.dir*(window.innerWidth+20),t=this.swipeDuration>0?this.swipeDuration:F.duration.swipe;Y(this.$refs.content,{transform:"translate3d("+e+"px, 0, 0)"},{duration:t,ease:F.transition["ease-out"]}).then(()=>{this.updateItemStyle(),this.resetMoveData(),this.isAnimating=!1})},updateItemStyle(){if(0===this.dir)return;let e=this.dir,t=this.getItemName("prev"),i=this.getItemName("current"),n=this.getItemName("next"),s={};1===this.dir?(this.classNames[t]="image-viewer-item-next",this.classNames[i]="image-viewer-item-prev",this.classNames[n]="image-viewer-item-current",s.prev=i,s.current=n,s.next=t):(this.classNames[t]="image-viewer-item-current",this.classNames[i]="image-viewer-item-next",this.classNames[n]="image-viewer-item-prev",s.prev=n,s.current=t,s.next=i),this.swipeUpY=0,this.isSecondScreenShow=!1,this.contentTransform="none",this.$emit("swipe-x",{dir:e,name:1===e?t:n,itemMap:s})},getItemName(e){return this.getItemElement(e).getAttribute("data-name")},getData(e){let t=this.getItemName(e);return t?this.state[t]:null},getItemElement(e){return this.$el.querySelector(".image-viewer-item-"+e)},swipingDown(e,t,i){this.posY={startX:this.startX,startY:this.startY,endX:i.clientX,endY:i.clientY,deltaX:e||0,deltaY:t||0},Math.abs(t)>0&&this.emitHideToastEvent();let n=1;t>0&&(n=Math.max(.01,(100-99*t/418)/100)),this.$refs.bg.style.opacity=n},animateAfterSwipeDown(){let e=(new Date).getTime()-this.startT;e<=380&&this.moveY>=10||e>380&&this.moveY>=123?this.$emit("swipe-down-end"):(this.isSwipingDown=!1,Y(this.$refs.bg,{opacity:1},{duration:F.duration.swipeDownCancel,ease:"linear"}).then(()=>{this.resetMoveData(),this.isAnimating=!1}),this.$emit("swipe-down-cancel"))},swipingUp(e,t){if(this.hasSecondScreen)if(this.isSecondScreenShow)e>=-5&&this.swipingToFirstScreen(e);else{if(this.store.get("zoom.isZoomed")&&e<-10)return void this.onZoomSwipeUpEnd();if(e<-10){const t=(this.innerHeight-this.swipeUpHeight)/2;this.swipeUpY=Math.max(-t,e)}else this.swipeUpY=0;this.$emit("swipe-up-move",2*-this.swipeUpY),t.preventDefault()}else t.preventDefault()},animateAfterSwipeUp(){if(!this.hasSecondScreen)return this.resetMoveData(),void(this.isAnimating=!1);this.isSecondScreenShow?this.moveY>=this.scrollTop+10?this.animateToFirstScreen():(this.resetMoveData(),this.isAnimating=!1):this.moveY<-10?this.isSecondScreenShow=!0:(this.swipeUpY=0,this.resetMoveData(),this.isAnimating=!1)},swipingToFirstScreen(e){e=e>10?e:0,this.swipeUpY=(this.swipeUpHeight+e-this.innerHeight)/2},animateToFirstScreen(){this.moveY>10?this.swipingUpDown():(this.resetMoveData(),this.isAnimating=!1)},swipingUpDown(){this.isSecondScreenShow=!1},onSwipeUpDown(){this.resetMoveData(),this.isAnimating=!1,this.swipeUpY=0,this.$emit("swipe-up-down")},onSwipeUpEnd(){this.resetMoveData(),this.isAnimating=!1},updateAutoTouchendTimeout(e){if(!ye)return;this.clearAutoTouchendTimeout();const{clientX:t,clientY:i}=e;(this.isSwipingDown&&(i<5||i>this.innerHeight-5)||this.isSwipingX&&(t>=this.innerWidth-10||t<10))&&(this.touchEndTimeout=setTimeout(()=>{let e={touches:[],targetTouches:[],changedTouches:[],preventDefault:S.noop,stopPropagation:S.noop};this.onTouchEnd(e),this.startX=t,this.startY=i},380))},clearAutoTouchendTimeout(){ye&&this.touchEndTimeout&&(clearTimeout(this.touchEndTimeout),this.touchEndTimeout=null)},onEnterStart(e){this.$emit("enter-start",e),this.$nextTick(()=>{this.$refs.bg.style.opacity=1})},onEnterEnd(e){this.$emit("enter-end",e)},onLeaveStart(e){S.setCss(this.$refs.content,{transform:"none"}),Y(this.$refs.bg,{opacity:0},{duration:F.duration.leave,ease:"linear",delay:F.delay.leave}),this.$emit("leave-start",e)},onLeaveEnd(e){this.$emit("leave-end",e),this.resetMoveData(),this.isAnimating=!1},emitSwipeFirstEvent(){this.$emit("swipe-first")},emitSwipeLastEvent(){this.swipeLastTimeout||(this.$emit("swipe-last"),this.swipeLastTimeout=setTimeout(()=>{this.swipeLastTimeout=null},200))},emitHideToastEvent(e){this.hideToastTimeout||(this.$emit("hide-toast",e),this.hideToastTimeout=setTimeout(()=>{this.hideToastTimeout=null},200))},emitSwipeDownStartEvent(){this.$emit("swipe-down-start")},onZoomTap(e){this.isSecondScreenShow?this.swipingUpDown():this.$emit("tap")},onZoomSwipeDownStart(){this.$emit("swipe-down-start")},onZoomSwipeDownMove({y:e}){let t=1;e>0&&(t=Math.max(.01,(100-99*e/418)/100)),this.$refs.bg.style.opacity=t},onZoomSwipeDownEnd(){this.$emit("swipe-down-end")},onZoomSwipeDownCancel(){Y(this.$refs.bg,{opacity:1},{duration:F.duration.swipeDownCancel,ease:"linear"}),this.$emit("swipe-down-cancel")},onZoomSwipeUpEnd(){this.hasSecondScreen&&(this.isSecondScreenShow=!0,this.swipeUpY=-10)},checkZoomStatus(e,t){return!(this.store.get("zoom.needCancelMove")||this.isSwipingX&&e>0&&!this.store.get("zoom.nearLeftBoundary")||this.isSwipingX&&e<0&&!this.store.get("zoom.nearRightBoundary")||!this.isSwipingX&&t>0||!this.isSwipingX&&t<0&&!this.store.get("zoom.nearBottomBoundary"))}}},xe=(i("./src/components/ImageViewerContent.vue?vue&type=style&index=0&id=646f7572&lang=stylus&scoped=true&"),de(be,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"image-viewer-content-wrapper",style:{height:e.innerHeight?e.innerHeight+"px":"100%"},on:{touchstart:function(t){e.onTouchStart(t,!0)},touchmove:function(t){e.onTouchMove(t,!0)},touchend:function(t){e.onTouchEnd(t,!0)},touchcancel:function(t){e.onTouchEnd(t,!0)}}},[i("div",{ref:"bg",staticClass:"image-viewer-content-bg"}),e._v(" "),i("div",{ref:"content",staticClass:"image-viewer-content",style:{transform:e.contentTransform,webkitTransform:e.contentTransform}},e._l(e.state,function(t,n){return i("div",{key:n,staticClass:"image-viewer-item-wrapper",class:[e.classNames[n]],attrs:{"data-name":n}},[i("image-viewer-item",{attrs:{store:e.store,obj:t,"is-current":"image-viewer-item-current"===e.classNames[n],"is-leaving":e.isLeaving,"is-swiping-down":e.isSwipingDown,"inner-width":e.innerWidth,"inner-height":e.innerHeight,"pos-y":e.posY,"enter-position":e.enterPosition,"leave-position":e.leavePosition,"swipe-up-height":e.swipeUpHeight,"swipe-up-y":e.swipeUpY,"has-second-screen":e.hasSecondScreen,"is-second-screen-show":e.isSecondScreenShow},on:{"enter-start":e.onEnterStart,"enter-end":e.onEnterEnd,"leave-start":e.onLeaveStart,"leave-end":e.onLeaveEnd,"zoom-tap":e.onZoomTap,"zoom-swipe-down-start":e.onZoomSwipeDownStart,"zoom-swipe-down-move":e.onZoomSwipeDownMove,"zoom-swipe-down-end":e.onZoomSwipeDownEnd,"zoom-swipe-down-cancel":e.onZoomSwipeDownCancel,"swipe-up-end":e.onSwipeUpEnd,"swipe-up-down":e.onSwipeUpDown,"zoom-swipe-up-end":e.onZoomSwipeUpEnd}},["image-viewer-item-current"===e.classNames[n]?i("template",{slot:"anchor"},[e._t("anchor")],2):e._e(),e._v(" "),"image-viewer-item-current"===e.classNames[n]?i("template",{slot:"secondScreen"},[e._t("secondScreen")],2):e._e()],2)],1)}))])},[],!1,null,"646f7572",null));xe.options.__file="ImageViewerContent.vue";var _e=xe.exports,Se={props:{closeIconURL:{type:String},closeIconSize:{type:Number}},data:()=>({width:22,height:22}),methods:{onClick(e){this.$emit("click",e)},getHeight(){return this.$el.getBoundingClientRect().height}}},Te=(i("./src/components/ImageViewerClose.vue?vue&type=style&index=0&id=e5db2aac&lang=stylus&scoped=true&"),de(Se,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"image-viewer-close"},[i("div",{staticClass:"image-viewer-close-bg"}),e._v(" "),i("div",{staticClass:"image-viewer-close-content",on:{click:function(t){e.onClick(t)}}},[e.closeIconURL?i("div",{staticClass:"image-viewer-close-icon-user-set",style:{width:(e.closeIconSize||e.width)+"px",height:(e.closeIconSize||e.height)+"px"}},[i("img",{attrs:{src:e.closeIconURL,alt:""}})]):i("div",{staticClass:"image-viewer-close-icon"})])])},[],!1,null,"e5db2aac",null));Te.options.__file="ImageViewerClose.vue";var ke=Te.exports,Ee={props:{obj:{type:Object,required:!0},count:{type:Number,default:0},isVisible:{type:Boolean,default:!0},innerWidth:{type:Number,default:0},innerHeight:{type:Number,default:0}},data(){return{clampNum:this.innerWidth>this.innerHeight?3:6,clampNumHidden:this.innerWidth>this.innerHeight?7:13}},computed:{defaultLineNum:function(){return this.innerWidth>this.innerHeight?3:6}},watch:{obj(){if(this.clampNum!==this.defaultLineNum&&this.isVisible){let e=this.$refs.content.getBoundingClientRect().height,t=this.$refs.content.cloneNode(!0);S.setCss(this.$el,{height:e+"px"}),this.$el.insertBefore(t,this.$refs.content),this.clampNum=this.defaultLineNum,this.clampNumHidden=this.maxLineNum,this.$nextTick(()=>{let e=this.$refs.content.getBoundingClientRect().height;Y(this.$el,{height:e+"px"},{duration:F.duration.infoCollapse,ease:F.transition["ease-in-out"]}).then(()=>{this.$el.removeChild(t),S.setCss(this.$el,{height:""})})})}else this.clampNum!==this.defaultLineNum&&(this.clampNum=this.defaultLineNum,this.clampNumHidden=this.maxLineNum)},defaultLineNum(e,t){this.clampNum===t?(this.clampNum=this.defaultLineNum,this.clampNumHidden=this.maxLineNum):(this.clampNum=this.maxLineNum,this.clampNumHidden=this.defaultLineNum)}},mounted(){let e=/iPhone/.test(navigator.userAgent)&&Math.min(window.innerHeight,window.innerWidth)<=320;this.maxLineNum=e?12:13,this.clampNumHidden=this.maxLineNum},methods:{onTextClick(e){let t=this.$refs.content.getBoundingClientRect().height,i=this.$refs.hidden.getBoundingClientRect().height;Math.abs(t-i)<10||(S.setCss(this.$el,{height:t+"px"}),this.clampNum===this.defaultLineNum?(this.clampNum=this.maxLineNum,this.clampNumHidden=this.defaultLineNum,this.$nextTick(()=>{Y(this.$el,{height:i+"px"},{duration:F.duration.infoExpand,ease:F.transition["ease-in-out"]}).then(()=>{S.setCss(this.$el,{height:""})})})):Y(this.$el,{height:i+"px"},{duration:F.duration.infoCollapse,ease:F.transition["ease-in-out"]}).then(()=>{this.clampNum=this.defaultLineNum,this.clampNumHidden=this.maxLineNum,this.$nextTick(()=>{S.setCss(this.$el,{height:""})})}))}}},Ce=(i("./src/components/ImageViewerInfo.vue?vue&type=style&index=0&id=6d185f4e&lang=stylus&scoped=true&"),de(Ee,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"image-viewer-info"},[i("div",{ref:"content",staticClass:"image-viewer-info-content text"},[i("p",{staticClass:"image-viewer-info-clamp",style:{"-webkit-line-clamp":e.clampNum},on:{click:function(t){e.onTextClick(t)}}},[i("span",{staticClass:"image-viewer-info-index"},[e._v(e._s(e.obj.index+1))]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.count>0,expression:"count > 0"}],staticClass:"image-viewer-info-total"},[e._v("/"+e._s(e.count))]),e._v("\n            "+e._s(e.obj.desc)+"\n        ")])]),e._v(" "),i("div",{ref:"hidden",staticClass:"image-viewer-info-hidden text"},[i("p",{staticClass:"image-viewer-info-clamp",style:{"-webkit-line-clamp":e.clampNumHidden}},[i("span",{staticClass:"image-viewer-info-index"},[e._v(e._s(e.obj.index+1))]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.count>0,expression:"count > 0"}],staticClass:"image-viewer-info-total"},[e._v("/"+e._s(e.count))]),e._v("\n            "+e._s(e.obj.desc)+"\n        ")])])])},[],!1,null,"6d185f4e",null));Ce.options.__file="ImageViewerInfo.vue";var Ie=Ce.exports,Le={props:{dismissible:{type:Boolean,default:!0},transition:{type:String,default:"zoom-in-from-big"},state:{type:Boolean,default:!1},hasMask:{type:Boolean,default:!0}},data(){return{oState:this.state}},watch:{state(e,t){this.change(e)}},methods:{maskClick(){this.dismissible&&this.change(!1)},change(e){this.$emit("change",e),this.oState=e}}},je=(i("./src/components/ImageViewerToastPopup.vue?vue&type=style&index=0&id=7ac10129&lang=stylus&scoped=true&"),de(Le,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.oState?i("div",{staticClass:"toast-popup-wrapper"},[i("transition",{attrs:{name:e.transition,appear:""}},[i("div",{staticClass:"toast-popup-content"},[e._t("default")],2)])],1):e._e(),e._v(" "),e.hasMask?i("div",{class:{"toast-popup-mask":!0,WA_LOG_OTHER:e.dismissible},on:{touchmove:function(e){e.preventDefault()},click:e.maskClick}}):e._e()])},[],!1,null,"7ac10129",null));je.options.__file="ImageViewerToastPopup.vue";var Pe=je.exports,Me={name:"toast",props:{content:{type:String,default:""},state:{type:Boolean,default:!1},autoClose:{type:Boolean,default:!1},duration:{type:Number,default:2e3}},data(){return{oState:this.state,timer:null}},components:{ImageViewerToastPopup:Pe},methods:{changeState(e){this.$emit("change",e),this.oState=e,this.autoClose&&!0===e&&(this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{this.changeState(!1)},this.duration))}},watch:{state(e){this.changeState(e)}}},De=(i("./src/components/ImageViewerToast.vue?vue&type=style&index=0&id=c2e2f93c&lang=stylus&scoped=true&"),de(Me,function(){var e=this.$createElement,t=this._self._c||e;return t("image-viewer-toast-popup",{attrs:{state:this.oState,"has-mask":!1},on:{change:this.changeState}},[t("div",{staticClass:"toast-content"},[this._v("\n        "+this._s(this.content)+"\n    ")])])},[],!1,null,"c2e2f93c",null));De.options.__file="ImageViewerToast.vue";var Ae=De.exports;var Ne={create(){const e=new class{constructor(){this.state={}}destroy(){this.state=null}set(e,t){e&&"object"==typeof e?Object.keys(e).forEach(t=>{this.state[t]=e[t]}):e&&(this.state[e]=t)}get(e){return e in this.state?this.state[e]:null}};return{set(t,i){e.set(t,i)},get:t=>e.get(t),destroy(){e.destroy()}}}};var $e={create(e){const t=new class{constructor(e){this.link=[],this.updateList(e)}destroy(){this.link.forEach((e,t)=>{delete e.isLinkItem,delete e.index,delete e.setIndex,e.setNum&&e.setList.forEach(e=>{delete e.index,delete e.setIndex,delete e.setNum})}),this.link=null,this.setMap=null}has(e){return 0<=e&&e<this.link.length}count(){return this.link.length}get(e,t=0){if(0===t&&this.has(e))return this.link[e];if(t>0&&this.has(e)){let i=this.link[e];return i.setNum>t&&i.setList[t]?i.setList[t]:i}return null}getNext(e){if(e&&e.isLinkItem){if(e.setList[1])return e.setList[1];if(this.has(e.index+1))return this.get(e.index+1)}else if(e){let t=this.get(e.index);if(t&&t.setList[e.setIndex+1])return t.setList[e.setIndex+1];if(this.has(e.index+1))return this.get(e.index+1)}return null}getPrev(e){if(e&&e.isLinkItem){let t=this.get(e.index-1);if(t&&t.setList.length)return t.setList[t.setList.length-1];if(t)return t}else if(e){let t=this.get(e.index);if(t&&e.setIndex>1&&t.setList[e.setIndex-1])return t.setList[e.setIndex-1];if(t&&1===e.setIndex)return t}return null}updateSetInfo(e,t){let i=this.get(e);if(!i||i.setNum<2||i.setList.length||!t.list||t.list.length!==i.setNum)return!1;let n=t.list.slice(0);return n.forEach((t,n)=>{t!==i&&(t.index=e,t.setIndex=n,t.setNum=i.setNum)}),i.setList=n,!0}updateList(e,t){if("number"!=typeof t&&(t=this.link.length),!e||!e.length||t<0||t>this.link.length)return!1;t===this.link.length?this.link.splice(t,0,...e):this.link.splice(t,e.length,...e);let i=t;return e.forEach(e=>{let t=e.setList;e.isLinkItem=!0,e.index=i,e.setIndex=0,e.setNum=e.setNum||0,e.setList=[],t&&t.length&&this.updateSetInfo(i,{list:t}),i++}),!0}updateItem(e,t,i){const n=this.get(e,t||0);return!(!n||!i)&&(["src","width","height"].forEach(e=>{e in i&&""!==i[e]&&(n[e]=i[e])}),!0)}}(e);return{count:()=>t.count(),get:(e,i)=>t.get(e,i),getNext:e=>t.getNext(e),getPrev:e=>t.getPrev(e),updateSetInfo:(e,i)=>t.updateSetInfo(e,i),updateList:(e,i)=>t.updateList(i,e),updateItem:(e,i,n)=>t.updateItem(e,i,n),append:e=>t.updateList(e),destroy(){t.destroy()}}}},He={name:"imageViewer",components:{ImageViewerContent:_e,ImageViewerClose:ke,ImageViewerInfo:Ie,ImageViewerToast:Ae},props:{list:{type:Array,required:!0},total:{type:Number,default:0},startIndex:{type:Number,default:0},setIndex:{type:Number,default:0},hideInfo:{type:Boolean,default:!1},hideToolbar:{type:Boolean,default:!1},hidePageNum:{type:Boolean,default:!1},isSwipeFirstLeave:{type:Boolean,default:!1},easySwipe:{type:Boolean,default:!1},swipeDuration:{type:Number,default:0},closeIconURL:{type:String},closeIconSize:{type:Number}},data(){return{pn:this.startIndex,spn:this.setIndex,count:this.total,state:{},currentData:null,prevData:null,nextData:null,itemMap:null,isLeaving:!1,isImmersive:!1,isEventStart:!1,enterPosition:{},leavePosition:{},toast:{state:!1,msg:""},store:{},link:{},innerWidth:0,innerHeight:0,resizeTimer:0,bottomTimer:0,leaveType:"",isShowBg:!0}},computed:{swipeUpHeight:function(){return this.innerHeight>this.innerWidth?138:200}},beforeMount(){this.innerWidth=window.innerWidth,this.innerHeight=window.innerHeight,this.store=Ne.create(),this.link=$e.create(this.list),this.state=this.getInitialState(),this.emitEnterStartEvent()},mounted(){s.a.attach(document.body),this.initEvent()},activated(){this.initEvent()},deactivated(){this.dispose()},beforeDestroy(){this.store.destroy(),this.link.destroy(),this.dispose()},watch:{isImmersive(e){e?this.enterImmersive():this.exitImmersive(),this.$emit("imgclick",{status:e,index:this.pn,setIndex:this.spn,data:this.currentData})}},methods:{showSecondScreen(){return this.$refs.content.showSecondScreen()},updateSetInfo(e,t){if("number"!=typeof e||!t)return!1;const i=this.link.updateSetInfo(e,t);return i&&this.pn===e&&0===this.spn?(this.nextData=this.link.getNext(this.currentData),this.state[this.itemMap.next]={isSet:!!this.nextData,item:this.nextData}):i&&this.pn-1===e&&0===this.spn&&(this.prevData=this.link.getPrev(this.currentData),this.state[this.itemMap.prev]={isSet:!!this.prevData,item:this.prevData}),i},append(e){const t=this.link.append(e);return t&&(this.state[this.itemMap.next].isSet||(this.nextData=this.link.getNext(this.currentData),this.state[this.itemMap.next]={isSet:!!this.nextData,item:this.nextData}),this.count=Math.max(this.count,this.link.count())),t},updateList(e,t){if("number"!=typeof e||e>=this.count||!t||!t.length)return!1;e+t.length>this.pn&&(t=t.slice(0,this.pn-e));const i=this.link.updateList(e,t);return i&&e+t.length===this.pn&&null===this.prevData&&(this.prevData=this.link.getPrev(this.currentData),this.state[this.itemMap.prev]={isSet:!!this.prevData,item:this.prevData}),i},updateItem(e,t,i){return this.link.updateItem(e,t,i)},close(){return!this.isLeaving&&(this.emitLeaveStartEvent({type:"close"}),!0)},initEvent(){this.isEventStart||(this.isEventStart=!0,window.addEventListener("resize",this.onResize,!1),window.addEventListener("orientationchange",this.onResize,!1))},onResize(){this.innerHeight!==window.innerHeight&&(this.resizeTimer&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(()=>{this.innerWidth=window.innerWidth,this.innerHeight=window.innerHeight,this.resizeTimer=0},50))},dispose(){this.resizeTimer&&clearTimeout(this.resizeTimer),this.bottomTimer&&clearTimeout(this.bottomTimer),this.isEventStart=!1,window.removeEventListener("resize",this.onResize,!1),window.removeEventListener("orientationchange",this.onResize,!1)},getInitialState(){let e=this.link.get(this.pn,this.spn),t=this.link.getPrev(e),i=this.link.getNext(e),n={item1:{isSet:!!t,item:t},item2:{isSet:!!e,item:e},item3:{isSet:!!i,item:i}};return this.prevData=t,this.currentData=e,this.nextData=i,this.itemMap={prev:"item1",current:"item2",next:"item3"},this.count=Math.max(this.count,this.link.count()),n},updateState(e){let t,i=e.name;t=e.dir>0?this.link.getNext(this.nextData):this.link.getPrev(this.prevData),this.state[i]={isSet:!!t,item:t},this.prevData=this.state[e.itemMap.prev].item,this.currentData=this.state[e.itemMap.current].item,this.nextData=this.state[e.itemMap.next].item,this.itemMap=e.itemMap,this.onSwitch(e.dir)},onSwipeX(e){this.updateState(e)},onSwipeFirst(e){this.isSwipeFirstLeave?this.emitLeaveStartEvent({type:"swipe-first"}):(this.$refs.content.resetPosition(),this.$emit("swipefirst"))},onSwipeLast(){this.toast={state:!0,msg:"已是最后一张"}},onSwitch(e){this.pn=this.currentData.index,this.spn=this.currentData.setIndex,this.emitSwitchEvent(e),this.isImmersive&&this.$nextTick(()=>{S.setCss(this.$refs.bottom,{display:""}),this.bottomTimer=setTimeout(()=>{let e=0;this.hideInfo||(e+=this.$refs.info.getBoundingClientRect().height),this.hideToolbar||(e+=this.$refs.toolbar.getBoundingClientRect().height),S.setCss(this.$refs.bottom,{display:"none",transform:`translate3d(0, ${e}px, 0)`})},10)})},emitSwitchEvent(e=0){this.$emit("switch",{dir:e,index:this.pn,setIndex:this.spn,data:this.currentData,prevData:this.prevData,nextData:this.nextData})},onEnterStart(e){this.$nextTick(()=>{this.changeOpacity(1,{duration:F.duration.enter})})},onEnterEnd(e){this.$emit("enter",{index:this.pn,setIndex:this.spn,data:this.currentData,prevData:this.prevData,nextData:this.nextData})},emitEnterStartEvent(){this.$emit("enterstart",{index:this.pn,setIndex:this.spn},e=>{if(e&&e.getBoundingClientRect){const{left:t,top:i,width:n,height:s}=e.getBoundingClientRect();this.enterPosition={left:t,top:i,width:n,height:s}}})},onCloseClick(e){e.stopPropagation(),this.hideToast(),this.emitLeaveStartEvent({type:"close-button"})},onLeaveStart(e){this.changeOpacity(0,{duration:F.duration.leave})},onLeaveEnd(e){this.$emit("leave",{index:this.pn,setIndex:this.spn,type:this.leaveType})},emitLeaveStartEvent(e){e=Object.assign({index:this.pn,setIndex:this.spn},e),this.$emit("leavestart",e,e=>{let t=null;if(e&&e.getBoundingClientRect?t=e.getBoundingClientRect():e&&e.width&&(t=e),t){const{left:e=0,top:i=0,width:n,height:s}=t;this.leavePosition={left:e,top:i,width:n,height:s}}}),this.isShowBg=!1,this.isLeaving=!0,this.leaveType=e.type||"close"},onTouchStart(e){this.$refs.content.onTouchStart(e),this.hideToast()},onTouchMove(e){this.$refs.content.onTouchMove(e)},onTouchEnd(e){this.$refs.content.onTouchEnd(e)},onHideToast(){this.hideToast()},onClick(){this.hideToast()},onToastChange(e){e!==this.toast.state&&(this.toast.state=e)},hideToast(){this.toast.state=!1},onSwipeDownStart(){this.isShowBg=!1,this.changeOpacity(0,{duration:S.animationDowngrade?0:F.duration.swipeDownStart})},onSwipeDownEnd(){this.emitLeaveStartEvent({type:"swipe-down"})},onSwipeDownCancel(){this.isShowBg=!0,this.changeOpacity(1,{duration:S.animationDowngrade?0:F.duration.swipeDownCancel})},changeOpacity(e,t={}){let i=[this.$refs.top,this.$refs.bottom];t.duration?i.forEach(i=>{Y(i,{opacity:e},{duration:t.duration,ease:"linear"})}):i.forEach(t=>{S.setCss(t,{opacity:e})})},onSwipeUpMove(e){this.isImmersive?this.hidePageNum||S.setCss(this.$refs.immersiveToolbar,{bottom:e+"px",opacity:e>20?.001:1}):S.setCss(this.$refs.bottom,{bottom:e+"px",opacity:e>20?.001:1})},onSwipeUpEnd(){this.isImmersive?this.hidePageNum||S.setCss(this.$refs.immersiveToolbar,{opacity:1,display:"none",bottom:window.innerHeight-this.swipeUpHeight+"px"}):S.setCss(this.$refs.bottom,{opacity:1,display:"none",bottom:window.innerHeight-this.swipeUpHeight+"px"}),this.$emit("secondscreenshow",{index:this.pn,setIndex:this.spn,data:this.currentData})},onSwipeUpDown(){this.isImmersive?this.hidePageNum||S.setCss(this.$refs.immersiveToolbar,{display:"",bottom:""}):S.setCss(this.$refs.bottom,{display:"",bottom:""}),this.$emit("secondscreenhide",{index:this.pn,setIndex:this.spn,data:this.currentData})},enterImmersive(){let e=this.$refs.close.getHeight(),t=0;this.hideInfo||(t+=this.$refs.info.getBoundingClientRect().height),this.hideToolbar||(t+=this.$refs.toolbar.getBoundingClientRect().height),Y(this.$refs.top,{transform:`translate3d(0, ${-e}px, 0)`},{duration:F.duration.hideTop,ease:F.transition["ease-in-out3"]}).then(()=>{this.$nextTick(()=>{S.setCss(this.$refs.top,{opacity:0,display:"none"})})}),Y(this.$refs.bottom,{transform:`translate3d(0, ${t}px, 0)`},{duration:F.duration.hideBottom,ease:F.transition["ease-in-out4"]}).then(()=>{this.$nextTick(()=>{S.setCss(this.$refs.bottom,{opacity:0,display:"none"})})}),this.hidePageNum||(Y(this.$refs.immersiveToolbar,{opacity:1},{duration:200,ease:"linear",delay:F.duration.hideBottom}),S.setCss(this.$refs.immersiveToolbar,{display:"",bottom:""}))},exitImmersive(){S.setCss(this.$refs.top,{opacity:1,display:""}),S.setCss(this.$refs.bottom,{opacity:1,display:""}),Y(this.$refs.top,{transform:"none"},{duration:F.duration.showTop,ease:F.transition["ease-in-out3"]}),Y(this.$refs.bottom,{transform:"none"},{duration:F.duration.showBottom,ease:F.transition["ease-in-out4"]}),this.hidePageNum||(Y(this.$refs.immersiveToolbar,{opacity:0},{duration:200,ease:"linear"}),S.setCss(this.$refs.immersiveToolbar,{display:"",bottom:""}))},onTap(e){this.isImmersive=!this.isImmersive}}},Re=(i("./src/components/ImageViewer.vue?vue&type=style&index=0&id=0a11ae33&lang=stylus&scoped=true&"),de(He,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"image-viewer",class:{"no-info":e.hideInfo,"no-toolbar":e.hideToolbar,horizonal:e.innerHeight<e.innerWidth,"black-bg":e.isShowBg},on:{touchstart:e.onTouchStart,touchmove:e.onTouchMove,touchend:e.onTouchEnd,click:e.onClick}},[i("image-viewer-content",{ref:"content",attrs:{store:e.store,state:e.state,"is-leaving":e.isLeaving,"enter-position":e.enterPosition,"leave-position":e.leavePosition,"inner-width":e.innerWidth,"inner-height":e.innerHeight,"swipe-up-height":e.swipeUpHeight,"easy-swipe":e.easySwipe,"swipe-duration":e.swipeDuration},on:{"enter-start":e.onEnterStart,"enter-end":e.onEnterEnd,"leave-start":e.onLeaveStart,"leave-end":e.onLeaveEnd,tap:e.onTap,"hide-toast":e.onHideToast,"swipe-x":e.onSwipeX,"swipe-first":e.onSwipeFirst,"swipe-last":e.onSwipeLast,"swipe-down-start":e.onSwipeDownStart,"swipe-down-end":e.onSwipeDownEnd,"swipe-down-cancel":e.onSwipeDownCancel,"swipe-up-move":e.onSwipeUpMove,"swipe-up-end":e.onSwipeUpEnd,"swipe-up-down":e.onSwipeUpDown}},[i("template",{slot:"anchor"},[e._t("anchor")],2),e._v(" "),i("template",{slot:"secondScreen"},[e._t("secondScreen")],2)],2),e._v(" "),i("div",{ref:"top",staticClass:"image-viewer-top"},[i("image-viewer-close",{ref:"close",attrs:{closeIconURL:e.closeIconURL,closeIconSize:e.closeIconSize},on:{click:e.onCloseClick}})],1),e._v(" "),i("div",{ref:"bottom",staticClass:"image-viewer-bottom"},[e.hideInfo?e._e():i("div",{ref:"info",staticClass:"image-viewer-info-wrapper"},[e._t("info",[e.currentData?i("image-viewer-info",{attrs:{"is-visible":!e.isImmersive,obj:e.currentData,count:e.count,"inner-width":e.innerWidth,"inner-height":e.innerHeight}}):e._e()])],2),e._v(" "),e.hideToolbar?e._e():i("div",{ref:"toolbar",staticClass:"image-viewer-toolbar-wrapper"},[i("div",{staticClass:"image-viewer-toolbar-bg"}),e._v(" "),e._t("toolbar")],2)]),e._v(" "),e.hidePageNum?e._e():i("div",{ref:"immersiveToolbar",staticClass:"immersive-toolbar"},[i("div",{staticClass:"page-num"},[e._v(e._s(e.pn+1)+"/"+e._s(e.count))])]),e._v(" "),i("image-viewer-toast",{attrs:{state:e.toast.state,content:e.toast.msg,duration:1500,"auto-close":""},on:{change:e.onToastChange}})],1)},[],!1,null,"0a11ae33",null));Re.options.__file="ImageViewer.vue";var Be=Re.exports;t.default=Be;"undefined"!=typeof window&&window.Vue&&window.Vue.component("vue-image-viewer",Be)}})});